<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Rahul Nath]]></title>
  <link href="http://rahulpnath.com/atom.xml" rel="self"/>
  <link href="http://rahulpnath.com/"/>
  <updated>2017-07-18T19:19:38+00:00</updated>
  <id>http://rahulpnath.com/</id>
  <author>
    <name><![CDATA[Rahul Nath]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Signing a PDF File Using Azure Key Vault]]></title>
    <link href="http://rahulpnath.com/blog/signing-a-pdf-file-using-azure-key-vault/"/>
    <updated>2017-07-18T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/signing-a-pdf-file-using-azure-key-vault</id>
    <content type="html"><![CDATA[<p><em>How to sign a PDF using Azure Key Vault?</em> - This is one of the questions that I often get regarding Azure Key Vault. In this post, we will explore how to sign a PDF using a certificate in Azure Key Vault. Signing a PDF has various aspects to it which are covered in depth in the white paper - <a href="http://developers.itextpdf.com/books#digsig">Digital Signatures for PDF Documents</a>. We will be using the <a href="http://itextpdf.com/">iText library</a> to sign the PDF. iText is available as a <a href="https://www.nuget.org/packages/itext7/">Nuget package library</a>. The below image shows the elements that composes a digital signature on the left and actual contents on the right.</p>

<p><img src="http://rahulpnath.com/images/adobe_signature.png" alt="Digitally Signed PDF Contents" /></p>

<h3>Signing with a Local Certificate</h3>

<p>When the certificate (along with the private key) is available locally, signing the PDF is straightforward. You can load the certificate as an X509Certificate from the local certificate store using the <a href="https://stackoverflow.com/questions/11115511/how-to-find-certificate-by-its-thumbprint-in-c-sharp">thumbprint</a>. Make sure that the certificate is installed with the Exportable option as shown below.</p>

<p><img src="http://rahulpnath.com/images/certificate_exportable.png" alt="Exportable certificate" /></p>

<p>The <a href="http://itextsupport.com/apidocs/itext5/latest/com/itextpdf/text/pdf/security/PrivateKeySignature.html">PrivateKeySignature</a> is an implementation of IExteralSignature that can be used to sign the PDF when the private key is available. The below code signs the <em>Hello World.pdf</em> using the certificate from the local store and saves that as <em>Local Key.pdf</em>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SignPdfWithLocalCertificate</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">certificate</span> <span class="p">=</span> <span class="n">GetCertificateLocal</span><span class="p">();</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">privateKey</span> <span class="p">=</span> <span class="n">DotNetUtilities</span><span class="p">.</span><span class="n">GetKeyPair</span><span class="p">(</span><span class="n">certificate</span><span class="p">.</span><span class="n">PrivateKey</span><span class="p">).</span><span class="n">Private</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">externalSignature</span> <span class="p">=</span> <span class="k">new</span> <span class="n">PrivateKeySignature</span><span class="p">(</span><span class="n">privateKey</span><span class="p">,</span> <span class="s">&quot;SHA-256&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="n">SignPdf</span><span class="p">(</span><span class="n">certificate</span><span class="p">,</span> <span class="n">externalSignature</span><span class="p">,</span> <span class="s">&quot;Local Key.pdf&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SignPdf</span><span class="p">(</span><span class="n">X509Certificate2</span> <span class="n">certificate</span><span class="p">,</span> <span class="n">IExternalSignature</span> <span class="n">externalSignature</span><span class="p">,</span> <span class="kt">string</span> <span class="n">signedPdfName</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">bCert</span> <span class="p">=</span> <span class="n">DotNetUtilities</span><span class="p">.</span><span class="n">FromX509Certificate</span><span class="p">(</span><span class="n">certificate</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">chain</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Org</span><span class="p">.</span><span class="n">BouncyCastle</span><span class="p">.</span><span class="n">X509</span><span class="p">.</span><span class="n">X509Certificate</span><span class="p">[]</span> <span class="p">{</span> <span class="n">bCert</span> <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">reader</span> <span class="p">=</span> <span class="k">new</span> <span class="n">PdfReader</span><span class="p">(</span><span class="s">&quot;Hello World.pdf&quot;</span><span class="p">))</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">stream</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FileStream</span><span class="p">(</span><span class="n">signedPdfName</span><span class="p">,</span> <span class="n">FileMode</span><span class="p">.</span><span class="n">OpenOrCreate</span><span class="p">))</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="kt">var</span> <span class="n">signer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">PdfSigner</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">stream</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
</span><span class='line'>            <span class="n">signer</span><span class="p">.</span><span class="n">SignDetached</span><span class="p">(</span><span class="n">externalSignature</span><span class="p">,</span> <span class="n">chain</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">PdfSigner</span><span class="p">.</span><span class="n">CryptoStandard</span><span class="p">.</span><span class="n">CMS</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Certificates in Azure Key Vault</h3>

<p>You can <a href="http://www.rahulpnath.com/blog/manage-certificates-in-azure-key-vault/">manage certificates in Azure Key Vault</a> as a first class citizen. Azure Key Vault supports creating new or uploading existing certificates into the vault. Key Vault provides an option to specify whether the private portion of the certificate is exportable or not. Let us see how we can use the certificate from the vault in both these scenarios.</p>

<h4><strong>Exportable Certificate</strong></h4>

<p>To create a self-signed certificate in the vault use the below PowerShell script. In this case, the private key is exportable. Executing the below script adds a self-signed certificate into the vault.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="nv">$certificatepolicy</span> <span class="p">=</span> <span class="nb">New-AzureKeyVaultCertificatePolicy</span>   <span class="n">-SubjectName</span> <span class="s2">&quot;CN=www.rahulpnath.com&quot;</span>   <span class="n">-IssuerName</span> <span class="n">Self</span>   <span class="n">-ValidityInMonths</span> <span class="n">12</span>
</span><span class='line'><span class="nb">Add-AzureKeyVaultCertificate</span> <span class="n">-VaultName</span> <span class="s2">&quot;VaultFromCode&quot;</span> <span class="n">-Name</span> <span class="s2">&quot;TestCertificate&quot;</span> <span class="n">-CertificatePolicy</span> <span class="nv">$certificatepolicy</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://rahulpnath.com/images/keyvault_getazurekeyvaultcertificate.png" class="center" alt="Key Vault Certificate" /></p>

<p>Creating a certificate, in turn, creates three objects in the vault - Certificate, Key, and Secret. The certificate represents the certificate just created, the Key represents the private part of the certificate, and the Secret has the certificate in PFX format (just as if you had uploaded a <a href="http://www.rahulpnath.com/blog/pfx-certificate-in-azure-key-vault/">PFX as a Secret</a>). Since the certificate created above is exportable, the Secret contains the Private portion of the key as well. To recreate the certificate locally in memory, we use the below code</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">static</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">X509Certificate2</span><span class="p">&gt;</span> <span class="n">GetCertificateKeyVault</span><span class="p">(</span><span class="kt">string</span> <span class="n">secretIdentifier</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">GetKeyVaultClient</span><span class="p">();</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">secret</span> <span class="p">=</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">GetSecretAsync</span><span class="p">(</span><span class="n">secretIdentifier</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">certSecret</span> <span class="p">=</span> <span class="k">new</span> <span class="n">X509Certificate2</span><span class="p">(</span>
</span><span class='line'>        <span class="n">Convert</span><span class="p">.</span><span class="n">FromBase64String</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">Value</span><span class="p">),</span>
</span><span class='line'>        <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">,</span>
</span><span class='line'>        <span class="n">X509KeyStorageFlags</span><span class="p">.</span><span class="n">Exportable</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">certSecret</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The certificate is encoded as Base64String in the Secret. We create an in-memory representation of the certificate and mark it as <em>Exportable</em>. This certificate can be used the same way as the local certificate. Since the private key is part of it, the PrivateKeySignature can still be used to sign.</p>

<h4><strong>Non Exportable Certificate</strong></h4>

<p>To create a non-exportable certificate when creating the certificate use <a href="https://docs.microsoft.com/en-us/powershell/module/azurerm.keyvault/new-azurekeyvaultcertificatepolicy?view=azurermps-4.1.0"><em>KeyNotExportable</em> flag</a> flag as below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="nv">$certificatepolicy</span> <span class="p">=</span> <span class="nb">New-AzureKeyVaultCertificatePolicy</span>   <span class="n">-SubjectName</span> <span class="s2">&quot;CN=www.rahulpnath.com&quot;</span>   <span class="n">-IssuerName</span> <span class="n">Self</span>   <span class="n">-ValidityInMonths</span> <span class="n">12</span> <span class="n">-KeyNotExportable</span>
</span><span class='line'><span class="nb">Add-AzureKeyVaultCertificate</span> <span class="n">-VaultName</span> <span class="s2">&quot;VaultFromCode&quot;</span> <span class="n">-Name</span> <span class="s2">&quot;TestCertificateNE&quot;</span> <span class="n">-CertificatePolicy</span> <span class="nv">$certificatepolicy</span>
</span></code></pre></td></tr></table></div></figure>


<p>Executing this creates three objects in the vault as above. But since we marked the secret as non-exportable, the Secret will not have the private part of the key. We can create an in-memory representation of the certificate, but we cannot use the PrivateKeySignature as the certificate does not have the private key. We need to use the Key created along with the certificate to <em>Sign</em> the PDF bytes. For this we need a custom implementation of <em>IExternalSignature</em> - KeyVaultSignature.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">KeyVaultSignature</span> <span class="p">:</span> <span class="n">IExternalSignature</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">private</span> <span class="n">KeyVaultClient</span> <span class="n">keyClient</span><span class="p">;</span>
</span><span class='line'>    <span class="k">private</span> <span class="kt">string</span> <span class="n">keyIdentifier</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="nf">KeyVaultSignature</span><span class="p">(</span><span class="n">KeyVaultClient</span> <span class="n">client</span><span class="p">,</span> <span class="kt">string</span> <span class="n">keyIdentifier</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">keyClient</span> <span class="p">=</span> <span class="n">client</span><span class="p">;</span>
</span><span class='line'>        <span class="k">this</span><span class="p">.</span><span class="n">keyIdentifier</span> <span class="p">=</span> <span class="n">keyIdentifier</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="nf">GetEncryptionAlgorithm</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&quot;RSA&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="nf">GetHashAlgorithm</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&quot;SHA-256&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="kt">byte</span><span class="p">[]</span> <span class="nf">Sign</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">message</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="kt">var</span> <span class="n">hasher</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SHA256CryptoServiceProvider</span><span class="p">();</span>
</span><span class='line'>        <span class="kt">var</span> <span class="n">digest</span> <span class="p">=</span> <span class="n">hasher</span><span class="p">.</span><span class="n">ComputeHash</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="n">keyClient</span>
</span><span class='line'>            <span class="p">.</span><span class="n">SignAsync</span><span class="p">(</span>
</span><span class='line'>                <span class="n">keyIdentifier</span><span class="p">,</span>
</span><span class='line'>                <span class="n">Microsoft</span><span class="p">.</span><span class="n">Azure</span><span class="p">.</span><span class="n">KeyVault</span><span class="p">.</span><span class="n">WebKey</span><span class="p">.</span><span class="n">JsonWebKeySignatureAlgorithm</span><span class="p">.</span><span class="n">RS256</span><span class="p">,</span>
</span><span class='line'>                <span class="n">digest</span><span class="p">)</span>
</span><span class='line'>            <span class="p">.</span><span class="n">Result</span><span class="p">.</span><span class="n">Result</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>KeyVaultSignature uses the key vault library to connect to the vault and use the specified key to sign the passed in PDF bytes. Since the key is the private part of the certificate, it will be validated by the public key. Below code shows how to use the KeyVaultSignature in the signing process.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">private</span> <span class="k">static</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">SignPdfWithNonExportableCertificateInKeyVault</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">GetKeyVaultClient</span><span class="p">();</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">exportableSecretIdentifier</span> <span class="p">=</span> <span class="s">&quot;https://vaultfromcode.vault.azure.net:443/secrets/TestCertificateNE&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">certificate</span> <span class="p">=</span> <span class="k">await</span> <span class="n">GetCertificateKeyVault</span><span class="p">(</span><span class="n">exportableSecretIdentifier</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">keyIdentifier</span> <span class="p">=</span> <span class="s">&quot;https://vaultfromcode.vault.azure.net:443/keys/TestCertificateNE/65d27605fdf74eb2a3f807827cd756e1&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">externalSignature</span> <span class="p">=</span> <span class="k">new</span> <span class="n">KeyVaultSignature</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">keyIdentifier</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">SignPdf</span><span class="p">(</span><span class="n">certificate</span><span class="p">,</span> <span class="n">externalSignature</span><span class="p">,</span> <span class="s">&quot;Non Exportable Key Vault.pdf&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Once you install and trust the public portion of the certificates, you can see the green tick, indicating that the PDF is verified and signed.</p>

<p><img src="http://rahulpnath.com/images/pdf_signed.png" alt="Signed PDF" /></p>

<p>The sample code for all three scenarios is available <a href="https://github.com/rahulpnath/Blog/tree/master/PDFSign">here</a>. I have used ClientId/Secret to authenticate with Key Vault for the sample code. If you are using this in a production environment, I will recommend using <a href="http://www.rahulpnath.com/blog/authenticating-a-client-application-with-azure-key-vault/">certificate to authenticate with Key Vault</a>. iText supports creating PDF stamps and more features in the signing process, which is well documented. Hope this helps you to secure your PDF files.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Beyond Compare - Compare Files Quick and Easy]]></title>
    <link href="http://rahulpnath.com/blog/beyond-compare-compare-files-quick-and-easy/"/>
    <updated>2017-07-13T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/beyond-compare-compare-files-quick-and-easy</id>
    <content type="html"><![CDATA[<p>Merging conflicts can be a pain when working in large teams and code bases change fast. Every time you sync with the main code base you need to make sure that you integrate the updates with your work in progress. It&rsquo;s great when the changes get automatically merged by the source control systems. But when things need to be manually merged is where a good tool can be of help.</p>

<p><img src="http://rahulpnath.com/images/beyond_compare.png" class="center" alt="Beyond Compare"></p>

<blockquote><p><em><a href="http://www.scootersoftware.com/index.php">Beyond Compare</a> allows you to quickly and easily compare your files and folders.  By using simple, powerful commands, you can focus on the differences you&rsquo;re interested in and ignore those you&rsquo;re not.  You can then merge the changes, synchronize your files, and generate reports for your records.</em></p></blockquote>

<p>The <a href="http://www.scootersoftware.com/features.php?zz=features_multifaceted">Text Compare</a> viewer is the one that I use most frequently to compare or merge different versions of code. Beyond Compare makes it easy to spot the code differences and gives the capability to copy the code from one version to another. One can also copy portions of changes and merge just that instead of all the changes. The 3-Way Text Merge feature is also useful, especially when you are using Git.</p>

<p>Beyond Compare has a Standard and a Pro Edition with a lot of <a href="http://www.scootersoftware.com/features.php?zz=features_list">features</a>. I have the Pro Edition license for Beyond Compare, thanks to <a href="http://www.rahulpnath.com/blog/finding-a-job-abroad/">Readify</a> for the Software allowance that you get every year.</p>

<p>Beyond Compare is one of the <a href="http://www.rahulpnath.com/blog/tools-that-I-use/">tools that I use almost daily</a>. Check it out if you have not already.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Review: Pixel, Phone by Google - Made by Google]]></title>
    <link href="http://rahulpnath.com/blog/review-pixel/"/>
    <updated>2017-07-12T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/review-pixel</id>
    <content type="html"><![CDATA[<p>When it comes to mobile phones, I used to be a gadget freak and buy the latest phone as soon as it arrives in the market. But not after I got the <a href="http://www.rahulpnath.com/blog/review-two-months-and-counting-android-and-nexus-5/">Nexus 5</a>. It&rsquo;s been well over three years now and not even once did I want to switch over to something else. The phone never slowed down over these years, and the battery lasted enough for the day. I broke the Nexus screen a couple of months back and was forced to switch over to a new phone. I didn&rsquo;t have to do much market research or phone comparisons this time; as I just knew which one to pick up.</p>

<p><a href="https://madeby.google.com/intl/en_au/phone/">The Pixel, Phone By Google!</a></p>

<p><img src="http://rahulpnath.com/images/pixel.png" alt="Pixel" class="center" /></p>

<h4><strong>Key Features</strong></h4>

<p>The Pixel is the first phone in the Google Pixel hardware line and is a successor to the Nexus range of devices. The Pixel runs <a href="https://www.android.com/intl/en_au/versions/nougat-7-0/">Android-Nougat</a> with some features exclusive to it. The Pixel is very much comparable to the Nexus, with improved hardware and latest software. Below are some of the key features that I like about the phone.</p>

<ul>
<li><p><strong>Fingerprint sensor</strong> The fingerprint sensor on the back allows you to unlock the phone and specific apps and also authorize purchases. <a href="http://www.rahulpnath.com/blog/password-manager-get-one-if-you-havent-already/">1Password</a> is integrated with the sensor which enables me to unlock it using the sensor. I no longer need to type in my long master password every time I use 1Password.</p></li>
<li><p><strong>Camera</strong> <em>Pixel takes brilliant photos in bright light, low light, and any light.</em> The camera is awesome and at times is a good replacement for your <a href="http://www.rahulpnath.com/blog/photography-learning-to-click/">DSLR</a>. With Pixel, Google also provides unlimited original quality storage for all photos and videos.</p></li>
<li><p><strong>Google Assistant</strong> Pixel is the first phone with the <a href="https://assistant.google.com/">Google Assistant</a> built-in. It helps you manage tasks, find content on phone and the internet, perform actions, etc. just like Siri or Cortana. I have not used the assistant much and yet to find some valid use cases.</p></li>
</ul>


<h4><strong>Apps</strong></h4>

<p> Some of the apps that I use regularly are</p>

<ul>
<li><a href="http://www.rahulpnath.com/blog/todoist-manage-your-todo-list/">Todoist</a>: My ToDo List</li>
<li><a href="http://www.rahulpnath.com/blog/feedly-one-stop-reading-place/">Feedly</a>: For all my RSS feeds</li>
<li><a href="http://www.rahulpnath.com/blog/pocket-offline-reading-made-easy/">Pocket</a>: For offline reading and read later</li>
<li><a href="http://www.rahulpnath.com/blog/password-manager-get-one-if-you-havent-already/">1Password</a>: Password Manager</li>
<li><a href="http://www.rahulpnath.com/blog/buffer-smarter-social-sharing/">Buffer</a>: To schedule articles to all social networks</li>
<li><a href="http://www.rahulpnath.com/blog/rescue-time-track-your-time/">Rescue Time</a>: Automatically tracks where I spent time on mobile</li>
<li><a href="http://www.rahulpnath.com/blog/three_months_to_a_half_marathon/">Strava, Runtastic &amp; Garmin Connect</a>: Tracking my runs and exercises</li>
<li><a href="https://play.google.com/store/apps/details?id=com.amazon.kindle">Kindle</a>: Reading kindle books</li>
<li>Twitter, Whatsapp, Messenger, Instagram, Skype &amp; Yammer :Social Networking apps</li>
<li><a href="http://www.rahulpnath.com/blog/optimizing-octopress-workflow-for-new-posts/">JotterPad</a>: Write articles for blog in markdown format</li>
<li><a href="http://www.rahulpnath.com/blog/how-to-setup-google-indic-keyboard-on-your-android-phone/">Google Indic Keyboard</a>: Writing in my native language</li>
<li>Gmail &amp; Outlook: Emails</li>
<li>Youtube: Videos</li>
</ul>


<h4><strong>Case </strong></h4>

<p>I am using the <a href="http://www.rahulpnath.com/blog/spigen-awesome-phone-cases/">Spigen Neo Hybrid</a> case for Pixel. It adds extra weight to the phone, but I am used to it from my Nexus as well. The Neo Hybrid provides military grade protection and protects the phone from most falls.</p>

<p>Overall I have found the Pixel a good phone and recommend it to anyone looking out for a new phone now. The Samsung Galaxy S8 is also of the same range (slightly costlier) and worth considering if you are not too particular about having a vanilla Android experience. Which phone do you use?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Grammarly - Improve Your Writing]]></title>
    <link href="http://rahulpnath.com/blog/grammarly-improve-your-writing/"/>
    <updated>2017-07-07T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/grammarly-improve-your-writing</id>
    <content type="html"><![CDATA[<p><a href="https://www.grammarly.com/">Grammarly</a> is a writing platform that helps you polish your writing. Grammarly scans your text for mistakes based on pre-written rules and suggests modifications. A detailed explanation is given on the suggestions made and helps improve your writing over a period.</p>

<blockquote><p><em>Grammarly makes sure everything you type is clear, effective, and mistake-free.</em></p></blockquote>

<p>With the <a href="https://chrome.google.com/webstore/detail/grammarly-for-chrome/kbfnbcaeplbcioakkpcpgfkobkghlhen?hl=en">chrome plugin, Grammarly</a> is there everywhere that you write on the web. It hides away neatly to a corner without getting in the way of your writing.</p>

<p><img src="http://rahulpnath.com/images/grammarly_facebook.png" alt="Grammarly Chrome plugin" class ="center" /></p>

<p>You can author text either in the website, or have Grammarly watch your back as you type anywhere in Chrome with the plugin, integrate it with Microsoft Office or use the Windows app. Check out the <a href="https://app.grammarly.com/apps">apps section</a> to get more details. You can try Grammarly for free and check for critical grammar and spelling mistakes. With the <a href="https://www.grammarly.com/premium">premium version</a> you get a lot more features and grammar rules. Currently, I am on the premium version and recommend it.</p>

<p>Try <a href="https://www.grammarly.com/i/personalize?install=true">Grammarly for free</a> and see if it helps you as well.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Left Align Your Code For Better Readability]]></title>
    <link href="http://rahulpnath.com/blog/left-align-your-code-for-better-readability/"/>
    <updated>2017-07-03T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/left-align-your-code-for-better-readability</id>
    <content type="html"><![CDATA[<p>Aesthetics of code is as important as the code you write. Aligning is an important part that contributes to the overall aesthetics of code. The importance of code aesthetics struck me while on a recent project. Below are some the code samples that I came across in the project. Traversing this code base was painful to me as the code was all over the place.</p>

<figure class='code'><figcaption><span>Bad Formatting</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">Account</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">long</span>   <span class="n">Id</span>                    <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">ClientId</span>              <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">long</span>   <span class="n">ContactId</span>             <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">UserName</span>              <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span>                  <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Company</span>               <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Address</span>               <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">BillingAddress</span>        <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Bad Formatting</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="nf">ConnectToServer</span><span class="p">(</span><span class="kt">string</span> <span class="n">username</span><span class="p">,</span>
</span><span class='line'>                       <span class="kt">string</span> <span class="n">password</span><span class="p">,</span>
</span><span class='line'>                       <span class="kt">string</span> <span class="n">server</span><span class="p">,</span>
</span><span class='line'>                       <span class="kt">string</span> <span class="n">port</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The code has too many alignment points that attract the eye which makes it hard to read in the first place. When in isolation this might still be fine to read, but with such a style across the code base, it soon becomes a pain for your eyes and your mind. When refactoring code, it becomes even harder as you need to put in the extra effort to make sure that this fancy alignment is maintained. Let&rsquo;s take a look at how even changing a property name (<em>Company to CompanyName</em>) or function name(<em>ConnectToServer to Connect</em>) will affect the current formatting.</p>

<figure class='code'><figcaption><span>Renamed to CompanyName</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">Account</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">...</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span>              <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">CompanyName</span>           <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Address</span>           <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="p">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Renamed to Connect</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="nf">Connect</span><span class="p">(</span><span class="kt">string</span> <span class="n">username</span><span class="p">,</span>
</span><span class='line'>                       <span class="kt">string</span> <span class="n">password</span><span class="p">,</span>
</span><span class='line'>                       <span class="kt">string</span> <span class="n">server</span><span class="p">,</span>
</span><span class='line'>                       <span class="kt">string</span> <span class="n">port</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see above the formatting is now all over the place, and you need to format them into place manually. Again when in isolation this might seem like a few press of spacebar. But when the property/function that you rename is used in multiple places this soon becomes a problem. Such code formatting introduces maintenance overhead and soon falls out of place if something gets missed.</p>

<h3>Better Ways To Format Code</h3>

<p>Left aligning code is one of the key things that I try to follow always. Keeping the code aligned to the left makes it easier to read (assuming that you are programming in a language written from left to right). Since we read from left to right having most of the code aligned to the left means that you have more code visible. Left aligning also means that you would almost avoid the need to scroll the code editor when reading through the code horizontally.</p>

<p>Let&rsquo;s take a look how left aligning the above code will look like.</p>

<figure class='code'><figcaption><span>Left Aligned</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">Account</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">long</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">ClientId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">long</span> <span class="n">ContactId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">UserName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Company</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Address</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">BillingAddress</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Left Aligned Multiple Lines</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="nf">ConnectToServer</span><span class="p">(</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">username</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">password</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">server</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">port</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Left Aligned Single Line</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="nf">ConnectToServer</span><span class="p">(</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">username</span><span class="p">,</span> <span class="kt">string</span> <span class="n">password</span><span class="p">,</span> <span class="kt">string</span> <span class="n">server</span><span class="p">,</span> <span class="kt">string</span> <span class="n">port</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see above left aligning makes it much easier to read and also reduces the number of alignment points. This is also refactoring friendly as there are no specific space patterns that need to be maintained. As for the parameters in a single line VS parameters in multiple lines (as above), I prefer the multi-line approach, as it keeps the code further aligned to the left and also reduces the chance of getting a horizontal scroll bar. You can use <a href="http://www.rahulpnath.com/blog/introducing-code-formatting-into-a-large-codebase/">Column Guides</a> to remind yourself to keep the code within the acceptable horizontal space.</p>

<p>Code formatting is an important aspect of coding. It is important that as a team you need to agree on some standard practices and find ways to stick to it. You can use <a href="http://www.rahulpnath.com/blog/introducing-code-formatting-into-a-large-codebase/">styling tools</a>, <a href="http://www.rahulpnath.com/blog/code-review/">Code Reviews</a>, etc. to make sure it does not get missed. It takes a while for any new practices to set in, but soon it will be of second nature and easy to follow.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Fiddler - Free Web Debugging Proxy]]></title>
    <link href="http://rahulpnath.com/blog/fiddler-free-web-debugging-proxy/"/>
    <updated>2017-06-29T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/fiddler-free-web-debugging-proxy</id>
    <content type="html"><![CDATA[<p><a href="http://www.telerik.com/fiddler">Fiddler</a> is an HTTP debugging proxy server application and captures HTTP and HTTPS traffic. It is one of the tools in my <a href="http://www.rahulpnath.com/blog/tools-that-I-use/">essential toolkit list</a>. Fiddler allows debugging traffic from PC, MAC, Linux and mobile systems. It helps inspect the raw requests and responses between the client and the server.</p>

<p><img src="http://rahulpnath.com/images/fiddler_inspectors.png" alt="Fiddler" class="center" ></p>

<p>Some of the key features that I often use in Fiddler are</p>

<ul>
<li><p><a href="http://docs.telerik.com/fiddler/Observe-Traffic/Tasks/ViewSessionContent">Inspect Request/Response</a>
Look into the request and response data to see if all the required headers/attributes are set, and the data is sent as expected</p></li>
<li><p><a href="http://www.rahulpnath.com/blog/using-fiddler-to-help-in-manual-testing/">Compose Web Requests</a>
Manually compose requests to send to server and test endpoints.</p></li>
<li><p><a href="http://www.rahulpnath.com/blog/simulating-delays-in-http-calls-for-manual-tests/">AutoRespond to Requests</a>
Intercept requests from the browser and send back a pre-defined response or create a delay in response to the actual client.</p></li>
<li><p><a href="http://docs.telerik.com/fiddler/Observe-Traffic/Tasks/ViewSessionStatistics">Statistics</a>
Fiddler statistics give an overview of the performance details of a web session, indicating where the time is spent in the whole request/response cycle.</p></li>
<li><p><a href="http://docs.telerik.com/fiddler/Generate-Traffic/Tasks/ResendRequest">Modify and Replay a Request</a>
Fiddler allows modifying the request by editing its contents and replay the message to the server.</p></li>
<li><p><a href="http://docs.telerik.com/fiddler/Save-And-Load-Traffic/Tasks/CreateSAZ">Export and Import</a>
Fiddler makes it easy to share captured traces with different people. All captured traffic or selected requests can be exported and shared with others. The exported saz file can be opened in Fiddler to view back all the session details.</p></li>
</ul>


<p>These are some of the features that I use on a regular basis. Fiddler supports a lot more and is extensible to support custom requirements as well. I find it an indispensable tool when developing for the Web. <a href="https://www.telerik.com/download/fiddler">Get Fiddler</a> if you have not already.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Using Git Locally in a TFVC Repository]]></title>
    <link href="http://rahulpnath.com/blog/using-git-locally-in-a-tfvc-repository/"/>
    <updated>2017-06-21T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/using-git-locally-in-a-tfvc-repository</id>
    <content type="html"><![CDATA[<p>The project that I am currently working on using <a href="https://www.visualstudio.com/en-us/docs/tfvc/overview">Team Foundation Version Control</a>(TFVC) as it&rsquo;s source control. After <a href="http://www.rahulpnath.com/blog/git-checkout-tfs/">using Git</a> for a long time it felt hard to move back to TFVC. One of the biggest pain for me is losing the short commits that I do when working. Short commits help keep track of the work and also quickly revert unwanted changes. Branching is also much easier with Git and allows to switch between work without much hassle of &lsquo;<em>shelving -> undoing -> pulling back the latest as with TFS.</em>&rsquo;</p>

<p><img src="http://rahulpnath.com/images/tfvc_local_git.png" alt="Use Git Locally in a TFVC Repository" class="center" /></p>

<p>The best part with git is that you can use it to work with any folder in your system and does not need any setup. By just running &lsquo;<em><a href="https://git-scm.com/docs/git-init">git init</a></em>&rsquo; it initializes a git repository in the folder. Running <em>init</em> against my local TFVC source code folder, I initialized a git repository locally. Now it allows me to work locally using git - make commits, revert, change branches, etc. Whenever I reach a logical end to the work, I create a shelveset and push the changes up the TFVC source control from Visual Studio.</p>

<p>If you want to interact with the TFVC source control straight from the command line, you can try out <a href="https://github.com/git-tfs/git-tfs">git-tfs</a> - a Git/TFS bridge. For me, since I am happy working locally with git and pushing up the finished work as shelvesets from Visual Studio I have not explored the git-tfs tool.</p>

<p>Hope this helps someone if you feel stuck with TFVC repositories!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Semantic Comparison: Improve Test Assertions]]></title>
    <link href="http://rahulpnath.com/blog/semantic-comparison-improve-test-assertions/"/>
    <updated>2017-06-20T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/semantic-comparison-improve-test-assertions</id>
    <content type="html"><![CDATA[<p>One of the traits of a good unit test is to have just <a href="http://osherove.com/blog/2005/4/14/try-to-avoid-multiple-asserts-in-a-single-unit-test.html">one Assert statement.</a>.</p>

<blockquote><p><em>Consider Assert failures as symptoms of a disease and Asserts as indication points or blood checks for the body of the software. The more symptoms you can find, the easier the disease will be to figure out and remove. If you have multiple asserts in one test - only the first failing one reveals itself as failed and you lose sight of other possible symptoms.</em></p>

<p>-<a href="http://osherove.com/">Roy Osherove</a></p></blockquote>

<p>When a test with multiple asserts fails, it is hard to tell the exact reason of test failure. To get more details on the actual failure we either have to debug the tests or look into the stack trace.</p>

<h3>Tests With Multiple Assertions</h3>

<p>Many times we end up needing to assert on more than one properties or behavior. Let&rsquo;s look at a few such examples and see how we can refactor the tests. <em>I have excluded the actual code that is getting is tested here as it is easy to understand what that will look like from the tests. (Drop a comment otherwise)</em></p>

<p><strong>Example 1:</strong> In the below test we have a <em>Name</em> class that represents FirstName and LastName of a user. It exposes a <em>Parse</em> method to make it easy for us to create a Name object from a string. Below are some tests for the Parse method. The test has multiple assertions to confirm that the first and last name properties get set as expected.</p>

<figure class='code'><figcaption><span>Name class</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[InlineData(&quot;Rahul&quot;, &quot;Rahul&quot;, &quot;&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;Rahul Nath&quot;, &quot;Rahul&quot;, &quot;Nath&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;Rahul P Nath&quot;, &quot;Rahul&quot;, &quot;P Nath&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">FirstNameOnlyProvidedResultsInFirstNameSet</span><span class="p">(</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">name</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">expFirstName</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">expLastName</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">Name</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">expFirstName</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">FirstName</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">expLastName</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">LastName</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Example 2:</strong> The below test is for the <em>Controller</em> class to confirm that the <em>CustomerViewModel</em> passed to the <em>Post</em> method on the controller saves the <em>Customer</em> to the repository. The assert statement includes multiple properties of the customer object, which is just a shorthand version of writing multiple such assert statements on each of those properties.</p>

<figure class='code'><figcaption><span>Controller Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory, AutoWebData]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">PostSavesToRepository</span><span class="p">(</span>
</span><span class='line'>    <span class="n">CustomerViewModel</span> <span class="n">model</span><span class="p">,</span>
</span><span class='line'><span class="na">    [Frozen]</span><span class="n">Mock</span><span class="p">&lt;</span><span class="n">ICustomerRepository</span><span class="p">&gt;</span> <span class="n">customerRepository</span><span class="p">,</span>
</span><span class='line'>    <span class="n">CustomerController</span> <span class="n">sut</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">expected</span> <span class="p">=</span> <span class="n">model</span><span class="p">.</span><span class="n">ToCustomer</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">sut</span><span class="p">.</span><span class="n">Post</span><span class="p">(</span><span class="n">model</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">customerRepository</span><span class="p">.</span><span class="n">Verify</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span>
</span><span class='line'>    <span class="n">a</span><span class="p">.</span><span class="n">Upsert</span><span class="p">(</span><span class="n">It</span><span class="p">.</span><span class="n">IsAny</span><span class="p">&lt;</span><span class="n">Customer</span><span class="p">&gt;(</span><span class="n">customer</span> <span class="p">=&gt;</span>
</span><span class='line'>        <span class="n">customer</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="n">expected</span><span class="p">.</span><span class="n">Name</span> <span class="p">&amp;&amp;</span>
</span><span class='line'>        <span class="n">customer</span><span class="p">.</span><span class="n">Age</span> <span class="p">==</span> <span class="n">expected</span><span class="p">.</span><span class="n">Age</span> <span class="p">&amp;&amp;</span>
</span><span class='line'>        <span class="n">customer</span><span class="p">.</span><span class="n">Phone</span> <span class="p">==</span> <span class="n">customer</span><span class="p">.</span><span class="n">Phone</span><span class="p">))</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Example 3:</strong> The below test ensures that all properties are set when transforming from DTO to domain entity (or any such object transformations at system boundaries). The test asserts on every property of the class.</p>

<figure class='code'><figcaption><span>Comparing different object types</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[AutoMoqData]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">AllowanceToDomainModelMapsAllProperties</span><span class="p">(</span>
</span><span class='line'>    <span class="n">Persistence</span><span class="p">.</span><span class="n">Allowance</span> <span class="n">allowance</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">random</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">allowance</span><span class="p">.</span><span class="n">EndDate</span> <span class="p">=</span> <span class="n">allowance</span><span class="p">.</span><span class="n">StartDate</span><span class="p">.</span><span class="n">AddDays</span><span class="p">(</span><span class="n">random</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">allowance</span><span class="p">.</span><span class="n">ToDomainModel</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">allowance</span><span class="p">.</span><span class="n">ClientId</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">ClientId</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">allowance</span><span class="p">.</span><span class="n">Credit</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">Credit</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">allowance</span><span class="p">.</span><span class="n">Data</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">Data</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">allowance</span><span class="p">.</span><span class="n">StartDate</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">Period</span><span class="p">.</span><span class="n">StartDate</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">allowance</span><span class="p">.</span><span class="n">EndDate</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">Period</span><span class="p">.</span><span class="n">EndDate</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Semantic Comparison Library</h3>

<p><a href="https://www.nuget.org/packages/SemanticComparison/">Semantic Comparison</a> is a library that allows deep comparison of similar looking objects. Originally part of <a href="http://www.rahulpnath.com/blog/autofixture-make-your-unit-tests-robust/">AutoFixture</a> library, it is also available as a separate <a href="https://www.nuget.org/packages/SemanticComparison/">Nuget package</a>.</p>

<blockquote><p><em>SemanticComparison makes it easier to compare instances of various objects to each other. Instead of performing a normal equality comparison, SemanticComparison compares objects that look semantically similar - even if they are of different types</em></p></blockquote>

<p>Using SemanticComparison, we can compare two objects and compare their properties for equality. It allows including/excluding properties when comparing objects.</p>

<h3>Refactoring Tests</h3>

<p><strong>Example 1:</strong> The <em>Name</em> is a perfect case for being a <a href="http://www.rahulpnath.com/blog/thinking-beyond-primitive-values-value-objects/">Value Object</a>. In this case, the class will override Equals, and it will be easier for us to write the tests. Converting to a Value Object is one of the cases where we <a href="http://www.rahulpnath.com/blog/tests-as-a-feedback-tool/">use tests as a feedback to improve code</a>. But in cases where you do not have the control over the class or do not want to make it a value object, we can use SemanticComparison to help check for equality as shown below.</p>

<figure class='code'><figcaption><span>Name Class</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[InlineData(&quot;Rahul&quot;, &quot;Rahul&quot;, &quot;&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;Rahul Nath&quot;, &quot;Rahul&quot;, &quot;Nath&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;Rahul P Nath&quot;, &quot;Rahul&quot;, &quot;P Nath&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">FirstNameOnlyProvidedResultsInFirstNameSet</span><span class="p">(</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">name</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">expFirstName</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">expLastName</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">expected</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Name</span><span class="p">(</span><span class="n">expFirstName</span><span class="p">,</span> <span class="n">expLastName</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">Name</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">expected</span>
</span><span class='line'>        <span class="p">.</span><span class="n">AsSource</span><span class="p">()</span>
</span><span class='line'>        <span class="p">.</span><span class="n">OfLikeness</span><span class="p">&lt;</span><span class="n">Name</span><span class="p">&gt;()</span>
</span><span class='line'>        <span class="p">.</span><span class="n">ShouldEqual</span><span class="p">(</span><span class="n">actual</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Example 2:</strong>  Using SemanticComparison we can remove the need of asserting on each of the properties. In the below case since the Customer Id is set to a new Guid in the ToCustomer method, I ignore the Id property from the comparison using <em>Without</em>. When the <em>expected</em> objects gets compared against the <em>actual</em> all properties except <em>Id</em> will be compared for equality. Any number of properties can be excluded by chaining multiple <em>Without</em> methods.</p>

<figure class='code'><figcaption><span>Controller Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory, AutoWebData]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">PostSavesToRepository</span><span class="p">(</span>
</span><span class='line'>    <span class="n">CustomerViewModel</span> <span class="n">model</span><span class="p">,</span>
</span><span class='line'><span class="na">    [Frozen]</span><span class="n">Mock</span><span class="p">&lt;</span><span class="n">ICustomerRepository</span><span class="p">&gt;</span> <span class="n">customerRepository</span><span class="p">,</span>
</span><span class='line'>    <span class="n">CustomerController</span> <span class="n">sut</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">customer</span> <span class="p">=</span> <span class="n">model</span><span class="p">.</span><span class="n">ToCustomer</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">expected</span> <span class="p">=</span> <span class="n">customer</span>
</span><span class='line'>      <span class="p">.</span><span class="n">AsSource</span><span class="p">()</span>
</span><span class='line'>      <span class="p">.</span><span class="n">OfLikeness</span><span class="p">&lt;</span><span class="n">Customer</span><span class="p">&gt;()</span>
</span><span class='line'>      <span class="p">.</span><span class="n">Without</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">sut</span><span class="p">.</span><span class="n">Post</span><span class="p">(</span><span class="n">model</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">customerRepository</span><span class="p">.</span><span class="n">Verify</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span>
</span><span class='line'>    <span class="n">a</span><span class="p">.</span><span class="n">Upsert</span><span class="p">(</span><span class="n">It</span><span class="p">.</span><span class="n">IsAny</span><span class="p">&lt;</span><span class="n">Customer</span><span class="p">&gt;(</span><span class="n">actual</span> <span class="p">=&gt;</span>
</span><span class='line'>        <span class="n">expected</span><span class="p">.</span><span class="n">ShoudEqual</span><span class="p">(</span><span class="n">actual</span><span class="p">)));</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Example 3:</strong>  Using SemanticComparison we can remove the asserts on every property and also set custom comparisons. The StartDate and EndDate on the persistence entity are converted into a DateRange object (Period). By using the <em>With</em> method in combination with the <em>EqualsWhen</em> method we can set custom comparison behavior that needs to be performed when comparing objects. The same test will hold true even if we add new properties and will force mapping to be updated if any of the property mappings is missed. Here we also see how SemanticComparison can compare two different types.</p>

<figure class='code'><figcaption><span>Comparing different object types</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[AutoMoqData]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">AllowanceToDomainModelMapsAllProperties</span><span class="p">(</span>
</span><span class='line'>    <span class="n">Persistence</span><span class="p">.</span><span class="n">Allowance</span> <span class="n">allowance</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">random</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">allowance</span><span class="p">.</span><span class="n">EndDate</span> <span class="p">=</span> <span class="n">allowance</span><span class="p">.</span><span class="n">StartDate</span><span class="p">.</span><span class="n">AddDays</span><span class="p">(</span><span class="n">random</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">allowance</span><span class="p">.</span><span class="n">ToDomainModel</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">allowance</span>
</span><span class='line'>        <span class="p">.</span><span class="n">AsSource</span><span class="p">()</span>
</span><span class='line'>        <span class="p">.</span><span class="n">OfLikeness</span><span class="p">&lt;</span><span class="n">Allowance</span><span class="p">&gt;()</span>
</span><span class='line'>        <span class="p">.</span><span class="n">With</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">Period</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="n">EqualsWhen</span><span class="p">((</span><span class="n">p</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m</span><span class="p">.</span><span class="n">Period</span><span class="p">.</span><span class="n">StartDate</span> <span class="p">==</span> <span class="n">p</span><span class="p">.</span><span class="n">StartDate</span> <span class="p">&amp;&amp;</span> <span class="n">m</span><span class="p">.</span><span class="n">Period</span><span class="p">.</span><span class="n">EndDate</span> <span class="p">==</span> <span class="n">p</span><span class="p">.</span><span class="n">EndDate</span><span class="p">;</span> <span class="p">})</span>
</span><span class='line'>        <span class="p">.</span><span class="n">ShouldEqual</span><span class="p">(</span><span class="n">actual</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Using SemanticComparison library, we reduce the dependencies on the actual implementation and extract that into a more generic representation. Fewer dependencies on the actual implementation code/properties make the tests more robust and adaptable to change. Hope this helps you get started with Semantic Comparison and improve on your test assertions.</p>

<p><strong>References:</strong></p>

<ul>
<li><a href="http://blog.ploeh.dk/2012/06/21/TheResemblanceidiom/">The Resemblance Idiom</a></li>
<li><a href="http://blog.ploeh.dk/2010/06/29/IntroducingAutoFixtureLikeness/">Introducing AutoFixture Likeness</a></li>
<li><a href="http://blog.ploeh.dk/2012/06/22/ResemblanceandLikeness/">Resemblance and Likeness</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Spigen - Awesome Phone Cases]]></title>
    <link href="http://rahulpnath.com/blog/spigen-awesome-phone-cases/"/>
    <updated>2017-06-15T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/spigen-awesome-phone-cases</id>
    <content type="html"><![CDATA[<p>If you are looking to get a case for your phone, then check out cases by <a href="https://www.spigen.com/">Spigen</a>. I have been using Spigen cases for over three years, and I totally recommend it.</p>

<p>Spigen cases are made with premium materials and are slim, sleek and simple. Spigen provides various models that match different needs. The cases provide <a href="https://www.spigen.com/pages/military-grade">Military Grade Protection</a> and protect the phone from most falls.</p>

<p>The first Spigen cases I got was for my <a href="http://www.rahulpnath.com/blog/review-two-months-and-counting-android-and-nexus-5/">Nexus 5</a>. The Neo Hybrid lasted for over three years. With the Spigen cases, the Nexus was well protected. It did fall from my hands many times, and every time the case protected it well enough. A couple of months back the Spigen case broke, and I had been using the phone without a cover since then. Unfortunately, during one of my <a href="http://www.rahulpnath.com/blog/three_months_to_a_half_marathon/">morning runs</a> the phone fell from my hands while slipping it into the armband. Without the Spigen to protect it, the Nexus screen broke at the corners.</p>

<p><img src="http://rahulpnath.com/images/spigen_pixel.png" alt="Spigen Neo Hybrid for Pixel" class="center" /></p>

<p>A month back I switched over to Google Pixel as the Nexus was becoming unusable with the broken screen. I got the <a href="https://www.spigen.com/collections/pixel/products/google-pixel-case-neo-hybrid?variant=29248762049">Spigen NeoHybrid for Pixel</a>. The case provides dual layer protection with TCU and PC bumper and comes with fingerprint resistance. The precise cutouts give easy access to all buttons and fingerprint sensor.</p>

<p>If you are looking to a get a case, check out if <a href="https://www.spigen.com/">Spigen</a> has one for your model!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Azure Key Vault From Node.js]]></title>
    <link href="http://rahulpnath.com/blog/azure-key-vault-from-node-dot-js/"/>
    <updated>2017-06-12T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/azure-key-vault-from-node-dot-js</id>
    <content type="html"><![CDATA[<p><img src="http://rahulpnath.com/images/nodejs_keyvault.png" alt="Azure Key Vault from Node js" class="center" /></p>

<p>If you develop on Node.js, you can use the <a href="https://github.com/Azure/azure-sdk-for-node">Azure SDK for Node</a> that makes it easy to consume and manage Microsoft Azure Services. In this post let&rsquo;s explore how to use the node SDK to connect to Azure Key Vault and interact with the vault objects. If you are new to key vault check out my <a href="http://www.rahulpnath.com/blog/category/azure-key-vault/">other posts here to get started</a>.</p>

<p>The <a href="https://www.npmjs.com/package/azure-keyvault">azure-keyvault</a> npm (node package manager) package allows accessing keys, secrets, and certificates on Azure Key Vault. It required Node.js version 6.x.x or higher. You can get the <a href="https://nodejs.org/en/">latest Node.js version here</a>.</p>

<blockquote><p><strong>Package Features</strong></p>

<ul>
<li><p><em>Manage keys: create, import, update, delete, backup, restore, list and get.</em></p></li>
<li><p><em>Key operations: sign, verify, encrypt, decrypt, wrap, unwrap.</em></p></li>
<li><p><em>Secret operations: set, get, update and list.</em></p></li>
<li><p><em>Certificate operations: create, get, update, import, list, and manage contacts and issuers.</em></p></li>
</ul>
</blockquote>

<p>It is easy to setup a new project and execute code using Node. The ease of setup is one of the things that I liked about node. To try out the Key Vault package, you can start fresh in a new folder and create a javascript file - <em>main.js</em> (you can name it anything you want).</p>

<p>The following packages are <em>required</em> to connect to the vault and authenticate. The <em><a href="https://www.npmjs.com/package/azure-keyvault">azure-keyvault</a></em> package as we saw above provides capabilities to interact with the vault. The <a href="https://www.npmjs.com/package/adal-node"><em>adal-node</em></a> is the Windows Active Directory Authentication Library for Node. The package makes it easy to authenticate to AAD to access AAD protected web resources. Applications using key vault need to <a href="http://www.rahulpnath.com/blog/authenticating-a-client-application-with-azure-key-vault/">authenticate using a token from an Azure AD Application</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">const</span> <span class="nx">KeyVault</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;azure-keyvault&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kr">const</span> <span class="p">{</span> <span class="nx">AuthenticationContext</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;adal-node&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h4><strong>Authenticate Using ClientId and Secret</strong></h4>

<p>Create the Azure AD application and the Secret key as shown in <a href="http://www.rahulpnath.com/blog/authenticating-a-client-application-with-azure-key-vault/">this post</a>. Grab the ClientId and Secret for authentication from the node application.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">const</span> <span class="nx">clientId</span> <span class="o">=</span> <span class="s2">&quot;CLIENT ID&quot;</span><span class="p">;</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s2">&quot;SECRET&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">secretAuthenticator</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">challenge</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AuthenticationContext</span><span class="p">(</span><span class="nx">challenge</span><span class="p">.</span><span class="nx">authorization</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nx">acquireTokenWithClientCredentials</span><span class="p">(</span>
</span><span class='line'>        <span class="nx">challenge</span><span class="p">.</span><span class="nx">resource</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">clientId</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">secret</span><span class="p">,</span>
</span><span class='line'>        <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">tokenResponse</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="kd">var</span> <span class="nx">authorizationValue</span> <span class="o">=</span> <span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">tokenType</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">accessToken</span><span class="p">;</span>
</span><span class='line'>            <span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">authorizationValue</span><span class="p">);</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>To access the vault, we need to create an instance of the KeyVaultClient object which taken in a Credentials as shown below. The KeyVaultClient has different methods exposes to interact with keys, secrets, and certificates in the vault. For e.g. To retrieve a secret from the vault the <em>getSecret</em> method is used passing in the secret identifier.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">const</span> <span class="nx">secretUrl</span> <span class="o">=</span> <span class="s2">&quot;https://rahulkeyvault.vault.azure.net/secrets/ApiKey/b56396d7a46f4f848481de2e149ef069&quot;</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">KeyVault</span><span class="p">.</span><span class="nx">KeyVaultCredentials</span><span class="p">(</span><span class="nx">secretAuthenticator</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">KeyVault</span><span class="p">.</span><span class="nx">KeyVaultClient</span><span class="p">(</span><span class="nx">credentials</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">client</span><span class="p">.</span><span class="nx">getSecret</span><span class="p">(</span><span class="nx">secretUrl</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h4><strong>Authenticate Using ClientId and Certificate</strong></h4>

<p>To authenticate using ClientId and Certificate the AuthenticationContext exposes a function <em>acquireTokenWithClientCertificate</em> which takes in the certificate (pem format) and the certificate thumbprint. If you already have a certificate go ahead and use that. If not create a new test certificate as shown below</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>makecert -sv mykey.pvk -n <span class="s2">&quot;cn=AD Test Vault Application&quot;</span> ADTestVaultApplication.cer -b 03/03/2017 -e 06/05/2018 -r
</span><span class='line'>pvk2pfx -pvk mykey.pvk -spc ADTestVaultApplication.cer -pfx ADTestVaultApplication.pfx -po <span class="nb">test</span>
</span></code></pre></td></tr></table></div></figure>


<p>Create a new AD application and set it to use certificate authentication. Assign the application permissions to access the key vault.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="nv">$certificateFilePath</span> <span class="p">=</span> <span class="s2">&quot;C:\certificates\ADTestVaultApplication.cer&quot;</span>
</span><span class='line'><span class="nv">$certificate</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Cryptography</span><span class="p">.</span><span class="n">X509Certificates</span><span class="p">.</span><span class="n">X509Certificate2</span>
</span><span class='line'><span class="nv">$certificate</span><span class="p">.</span><span class="n">Import</span><span class="p">(</span><span class="nv">$certificateFilePath</span><span class="p">)</span>
</span><span class='line'><span class="nv">$rawCertificateData</span> <span class="p">=</span> <span class="nv">$certificate</span><span class="p">.</span><span class="n">GetRawCertData</span><span class="p">()</span>
</span><span class='line'><span class="nv">$credential</span> <span class="p">=</span> <span class="no">[System.Convert]</span><span class="p">::</span><span class="n">ToBase64String</span><span class="p">(</span><span class="nv">$rawCertificateData</span><span class="p">)</span>
</span><span class='line'><span class="nv">$startDate</span><span class="p">=</span> <span class="no">[System.DateTime]</span><span class="p">::</span><span class="n">Now</span>
</span><span class='line'><span class="nv">$endDate</span> <span class="p">=</span> <span class="nv">$startDate</span><span class="p">.</span><span class="n">AddYears</span><span class="p">(</span><span class="n">1</span><span class="p">)</span>
</span><span class='line'><span class="nv">$adApplication</span> <span class="p">=</span> <span class="nb">New-AzureRmADApplication</span> <span class="n">-DisplayName</span> <span class="s2">&quot;CertAdApplication&quot;</span> <span class="n">-HomePage</span>  <span class="s2">&quot;http://www.test.com&quot;</span> <span class="n">-IdentifierUris</span> <span class="s2">&quot;http://www.test.com&quot;</span> <span class="n">-CertValue</span> <span class="nv">$credential</span>  <span class="n">-StartDate</span> <span class="nv">$startDate</span> <span class="n">-EndDate</span> <span class="nv">$endDate</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$servicePrincipal</span> <span class="p">=</span> <span class="nb">New-AzureRmADServicePrincipal</span> <span class="n">-ApplicationId</span> <span class="nv">$adApplication</span><span class="p">.</span><span class="n">ApplicationId</span>
</span><span class='line'>
</span><span class='line'><span class="nb">Set-AzureRmKeyVaultAccessPolicy</span> <span class="n">-VaultName</span> <span class="s1">&#39;RahulKeyVault&#39;</span> <span class="n">-ServicePrincipalName</span> <span class="nv">$servicePrincipal</span><span class="p">.</span><span class="n">ServicePrincipalNames</span><span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="n">-PermissionsToSecrets</span> <span class="n">all</span> <span class="n">-PermissionToKeys</span> <span class="n">all</span>
</span></code></pre></td></tr></table></div></figure>


<p>To convert the pvk file into the pem format that is required by adal-node to authenticate with the AD application use the below command.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>openssl rsa -inform pvk -in mykey.pvk -outform pem -out mykey.pem
</span></code></pre></td></tr></table></div></figure>


<p>Using the pem encoded certificate private key, we can authenticate with the vault as shown below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">getPrivateKey</span><span class="p">(</span><span class="nx">filename</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">privatePem</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="p">{</span> <span class="nx">encoding</span><span class="o">:</span> <span class="s1">&#39;utf8&#39;</span> <span class="p">});</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">privatePem</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">certificateAuthenticator</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">challenge</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AuthenticationContext</span><span class="p">(</span><span class="nx">challenge</span><span class="p">.</span><span class="nx">authorization</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nx">acquireTokenWithClientCertificate</span><span class="p">(</span>
</span><span class='line'>        <span class="nx">challenge</span><span class="p">.</span><span class="nx">resource</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">clientId</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">getPrivateKey</span><span class="p">(</span><span class="s2">&quot;mykey.pem&quot;</span><span class="p">),</span>
</span><span class='line'>        <span class="s2">&quot;CERTIFICATE THUMBPRINT&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">tokenResponse</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="kd">var</span> <span class="nx">authorizationValue</span> <span class="o">=</span> <span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">tokenType</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">accessToken</span><span class="p">;</span>
</span><span class='line'>            <span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">authorizationValue</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">)</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>Using the <em>certificateAuthenticator</em> is the same as using the <em>secretAuthenticator</em>, by passing it to <em>KeyVaultCredentials</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">KeyVault</span><span class="p">.</span><span class="nx">KeyVaultCredentials</span><span class="p">(</span><span class="nx">certificateAuthenticator</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">KeyVault</span><span class="p">.</span><span class="nx">KeyVaultClient</span><span class="p">(</span><span class="nx">credentials</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">client</span><span class="p">.</span><span class="nx">getSecret</span><span class="p">(</span><span class="nx">secretUrl</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>To run the application first run <em>npm install</em> to install all the required packages and then execute the js file using <em>node main.js</em>. It fetches the secret value from the key vault using the certificate or secret authenticator. Hope this helps you to get started with Azure Key Vault from Node.js.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: PNGGauntlet - Smash PNGs for Faster Sites]]></title>
    <link href="http://rahulpnath.com/blog/pnggauntlet-smash-pngs-for-faster-sites/"/>
    <updated>2017-06-07T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/pnggauntlet-smash-pngs-for-faster-sites</id>
    <content type="html"><![CDATA[<p>When I upload images to my blog, I try to keep the file size as small as possible. Reducing image size helps improve the site load time. To grab screenshots I use <a href="http://www.rahulpnath.com/blog/screenshots-with-snagit/">Snagit</a> and use <a href="http://www.rahulpnath.com/blog/paint-dot-net/">Paint.net</a> for any editing and resizing the images.</p>

<p>To further optimize images and compress them I use <a href="">PNGGauntlet</a><a href="https://pnggauntlet.com/.">https://pnggauntlet.com/.</a> PNGGauntlet combines <a href="http://advsys.net/ken/util/pngout.htm">PNGOUT</a>, <a href="http://optipng.sourceforge.net/">OptiPNG</a> and DeflOpt and helps smash PNG&rsquo;s to the smallest size.</p>

<p><img src="http://rahulpnath.com/images/pnggauntlet.png" alt="PNG Gauntlet" class="center" /></p>

<p>PNGGauntlet provides options to configure the PNG output. You can play around with the options for the best output. I use the default options and has been working fine for me.</p>

<p>Check out <a href="https://pnggauntlet.com/">PNGGauntlet</a> to optimize images for the web.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setting up Git Credential Manager for Windows with Cmder]]></title>
    <link href="http://rahulpnath.com/blog/setting-up-git-credential-manager-for-windows-with-cmder/"/>
    <updated>2017-06-05T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/setting-up-git-credential-manager-for-windows-with-cmder</id>
    <content type="html"><![CDATA[<p>If you are wondering what Git Credential Manager (GCM) is, then possibly you see the below screen very often when you are interacting with your git repositories.</p>

<p><img src="http://rahulpnath.com/images/git_gcm.png" alt="Enter your Credentials, git" class="center" /></p>

<p>On Windows, you can use <a href="https://github.com/Microsoft/Git-Credential-Manager-for-Windows">Git Credential Manager for Windows</a> which integrates with git and provides the credentials whenever required. GCM removes the need for you to enter the credentials when using the git repositories.</p>

<p><a href="http://www.rahulpnath.com/blog/cmder-portable-console-emulator-for-windows/">Cmder</a> is a portable console emulator for Windows. I prefer to use git from the command line and find the cmder experience good. Check out the <a href="https://www.youtube.com/watch?v=fpxx8hlNTzc">youtube video</a> for more details.</p>

<p>To set up GCM with Cmder download the <a href="https://github.com/Microsoft/Git-Credential-Manager-for-Windows/releases">latest release of GCM</a> in the zip format. Unzip the package under the <em>vendor</em> folder in cmder. Run the <em>install.cmd</em> from within the unzipped GCM package.</p>

<p><img src="http://rahulpnath.com/images/git_gcm_location.png" alt="Vendor folder under cmder" class="center" /></p>

<p>Once you run the install script, the git config will be updated to use the credential manager. Running <em>git config &ndash;list</em> will show the <em>credential.helper</em> set to <em>manager</em>. If this is not automatically set you can set it manually by running</p>

<figure class='code'><figcaption><span>Set GCM as git credential manager</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git config --global credential.helper manager
</span></code></pre></td></tr></table></div></figure>


<p>For GUI prompts for entering credentials use</p>

<figure class='code'><figcaption><span>Enable Gui prompt for passwords</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git config --global credential.modalprompt <span class="nb">true</span>
</span></code></pre></td></tr></table></div></figure>


<p>Hope that saves you some time if you were entering the credentials every time you push/pull from a git repository.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Use Tests As A Feedback Tool To Improve Code]]></title>
    <link href="http://rahulpnath.com/blog/tests-as-a-feedback-tool/"/>
    <updated>2017-06-01T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/tests-as-a-feedback-tool</id>
    <content type="html"><![CDATA[<p>A unit test suite provides immediate feedback when you make a change. A passing test suite gives the confidence on the changes made. It&rsquo;s the confidence that the team has on the tests suite that matters more than the <a href="http://www.rahulpnath.com/blog/is-code-coverage-a-lie/">code coverage number</a>. Tests also provide feedback about the code. It suggests how easy or difficult it is to use the code just written since tests are the first consumers of the code. Different kinds of <a href="http://xunitpatterns.com/Test%20Smells.html">Test Smells</a> indicates a problem with the code that is getting tested or the test code itself and provides feedback to improve it.</p>

<p><img alt = "Test Feedback" src="http://rahulpnath.com/images/test_feedback.png" class = "center" /></p>

<p>Let&rsquo;s take a look at a couple of Test Smells and see what changes can be made to improve the code.</p>

<h3>Multiple Asserts on Class Properties</h3>

<p>Tests should ideally follow the Single Responsibility Principle (SRP). It should test one thing and try to limit that to one <em>Assert</em> statement. Often I come across tests that assert multiple things. At times this could just be that we are testing all side-effects of the method that is getting tested. Such tests can be broken down into separate tests which test just one thing each. In certain other cases, the effects of the method that is getting tested itself are spread across multiple properties. Let&rsquo;s see a simple example of one such case. Below is a DateRange class which takes in a StartDate and EndDate and creates a DateRange class if the endDate is greater than startDate.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">DateRange</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">readonly</span> <span class="n">DateTime</span> <span class="n">StartDate</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">readonly</span> <span class="n">DateTime</span> <span class="n">EndDate</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="nf">DateRange</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">startDate</span><span class="p">,</span> <span class="n">DateTime</span> <span class="n">endDate</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">endDate</span> <span class="p">&lt;</span> <span class="n">startDate</span><span class="p">)</span>
</span><span class='line'>            <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentException</span><span class="p">(</span><span class="s">&quot;End date cannot be less than start Date&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">StartDate</span> <span class="p">=</span> <span class="n">startDate</span><span class="p">;</span>
</span><span class='line'>        <span class="n">EndDate</span> <span class="p">=</span> <span class="n">endDate</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="n">DateRange</span> <span class="nf">MonthsFromDate</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">date</span><span class="p">,</span> <span class="kt">int</span> <span class="n">numOfMonths</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">new</span> <span class="nf">DateRange</span><span class="p">(</span><span class="n">date</span>   <span class="p">,</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Today</span><span class="p">.</span><span class="n">AddMonths</span><span class="p">(</span><span class="n">numOfMonths</span><span class="p">));</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="kt">bool</span> <span class="nf">IsInRange</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">theDateTime</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">theDateTime</span> <span class="p">&gt;=</span> <span class="n">StartDate</span> <span class="p">&amp;&amp;</span> <span class="n">theDateTime</span> <span class="p">&lt;=</span> <span class="n">EndDate</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s take a look at one of the tests that check for the successful creation of a DateRange object using the MonthsFromDate function. In the tests below you can see that there are two statements to assert that the DateRange object is created successfully. In this particular case, the assertions are limited to two, but could often be more than that.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 2, &quot;01-Mar-2017&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 0, &quot;01-Jan-2017&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 27, &quot;01-Apr-2019&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">MonthsFromDateReturnsExpected</span><span class="p">(</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">startDateString</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">monthsFromNow</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">endDateString</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">startDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">startDateString</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">endDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">endDateString</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">DateRange</span><span class="p">.</span><span class="n">MonthsFromDate</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span> <span class="n">monthsFromNow</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">StartDate</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">endDate</span><span class="p">,</span> <span class="n">actual</span><span class="p">.</span><span class="n">EndDate</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I can think if two ways to solve the above problem. One is to refactor the test code and the other to refactor the DateRange class itself. Both methods involve creating the expected DateRange object upfront and then comparing against it for equality. The tests can be refactored using <a href="https://www.nuget.org/packages/SemanticComparison">SemanticComparison</a> library.</p>

<figure class='code'><figcaption><span>Refactor Test using SemanticComparison</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 2, &quot;01-Mar-2017&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 0, &quot;01-Jan-2017&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 27, &quot;01-Apr-2019&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">MonthsFromDateReturnsExpectedUsingSemanticComparison</span><span class="p">(</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">startDateString</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">int</span> <span class="n">monthsFromNow</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">endDateString</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">startDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">startDateString</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">endDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">endDateString</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">expected</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateRange</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span> <span class="n">endDate</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">DateRange</span><span class="p">.</span><span class="n">MonthsFromDate</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span> <span class="n">monthsFromNow</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">expected</span>
</span><span class='line'>        <span class="p">.</span><span class="n">AsSource</span><span class="p">()</span>
</span><span class='line'>        <span class="p">.</span><span class="n">OfLikeness</span><span class="p">&lt;</span><span class="n">DateRange</span><span class="p">&gt;()</span>
</span><span class='line'>        <span class="p">.</span><span class="n">ShouldEqual</span><span class="p">(</span><span class="n">actual</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this particular case looking closely at the <a href="http://xunitpatterns.com/SUT.html">system under test (SUT)</a>, the DateRange class, we understand that it can be a <a href="http://www.rahulpnath.com/blog/thinking-beyond-primitive-values-value-objects/">Value Object</a>. Any two instances of DateRange with the same start and end date can be considered equal. Equality is based on the value contained and not on any other identity. Though in all cases that you observe this behavior it might not be possible for you to convert it into a value object. In those case use the approach mentioned below. But in cases where you have control over it, override <a href="http://www.rahulpnath.com/blog/thinking-beyond-primitive-values-value-objects/">Equals and GetHashCode</a> to implement value equality. The test is much simpler and had less code</p>

<figure class='code'><figcaption><span>Refactor DateRange to ValueObject</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 2, &quot;01-Mar-2017&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 0, &quot;01-Jan-2017&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;01-Jan-2017&quot;, 27, &quot;01-Apr-2019&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">MonthsFromDateReturnsExpectedUsingValueObject</span><span class="p">(</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">startDateString</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">int</span> <span class="n">monthsFromNow</span><span class="p">,</span>
</span><span class='line'>   <span class="kt">string</span> <span class="n">endDateString</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">startDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">startDateString</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">endDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">endDateString</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">expected</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateRange</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span> <span class="n">endDate</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">DateRange</span><span class="p">.</span><span class="n">MonthsFromDate</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span> <span class="n">monthsFromNow</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Complicated Test Setup and Test Code Duplication</h3>

<p>At times we run into cases where setting up the sut is complicated and is a lot of code. Complicated setup often leads to <a href="http://xunitpatterns.com/Test%20Code%20Duplication.html">Test code duplication</a>.</p>

<blockquote><p><em>A complicated test setup warrants &lsquo;</em>cut-copy-paste<em>&rsquo; to test different aspects of the sut.</em></p></blockquote>

<p>From my experience, I have seen this happen more for the test setup phase. The test setup phase is identical across a set of tests with only the assertions being different. Let us look into some common reasons why test setup can becoming complicated leading to test code duplication as well.</p>

<h4><strong>Violating Single Responsibility Principle (SRP)</strong></h4>

<p>The test setup can get complicated when the sut violates Single Responsibility Principle (SRP). When there are too many things that are getting affected by the sut, the setup and the verification phases become complex. In these cases extracting the responsibilities as injected dependencies help reduce complexity. The tests can then use mocks to test the sut in isolation. The post, <a href="http://www.rahulpnath.com/blog/refactoring-to-improve-testability-extracting-dependencies/">Refactoring to Improve Testability: Extracting Dependencies</a> looks into an end to end scenario of this case and how it can be improved.</p>

<p>Violating SRP also leads to test code duplication as multiple aspects need testing and the setup looks almost similar. Refactoring the sut and the test code are ways that test code can be made more robust in these cases.</p>

<h4><strong>SUT Constraints</strong></h4>

<p>Test Code Duplication can occur when there are constraints on a constructor, and the test needs to construct it. Let&rsquo;s take the example of DateRange class we saw above. The DateRange constructor takes in two dates, startDate and endDate. But the constructor has a rule enforced that endDate must be greater than startDate. In such cases, I often see tests that have DateRange as a property directly or indirectly (as properties on other objects) creating them explicitly.</p>

<figure class='code'><figcaption><span>Explicitly create objects with Constraints</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[InlineData(&quot;1 Jan 2016&quot;, &quot;1 Mar 2016&quot;, &quot;20 Feb 2016&quot;)]</span>
</span><span class='line'><span class="na">[InlineData(&quot;11 Apr 2016&quot;, &quot;30 Mar 2017&quot;, &quot;26 Dec 2016&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">DateInBetweenStartAndEndDateIsInRangeManualSetup</span><span class="p">(</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">startDateString</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">endDateString</span><span class="p">,</span>
</span><span class='line'>    <span class="kt">string</span> <span class="n">dateInBetween</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">startDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">startDateString</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">endDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">endDateString</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">date</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">dateInBetween</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">sut</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateRange</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span> <span class="n">endDate</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">sut</span><span class="p">.</span><span class="n">IsInRange</span><span class="p">(</span><span class="n">date</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">True</span><span class="p">(</span><span class="n">actual</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>We cannot depend on the default behavior of AutoFixture to generate a DateRange object for us, as it does not know about this constraint and will always pass two random dates to the constructor. The below test is not repeatable and can fail at times if AutoFixture sends the endDate less than the start date.</p>

<figure class='code'><figcaption><span>Using AutoFixture on classes that have constraints can lead to tests that are not repeatable</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Theory]</span>
</span><span class='line'><span class="na">[InlineAutoData]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">DateInBetweenStartAndEndDateIsInRange</span><span class="p">(</span><span class="n">DateRange</span> <span class="n">sut</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">rand</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">date</span> <span class="p">=</span> <span class="n">sut</span><span class="p">.</span><span class="n">StartDate</span><span class="p">.</span><span class="n">AddDays</span><span class="p">(</span><span class="n">rand</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="p">(</span><span class="n">sut</span><span class="p">.</span><span class="n">EndDate</span> <span class="p">-</span> <span class="n">sut</span><span class="p">.</span><span class="n">StartDate</span><span class="p">).</span><span class="n">Days</span> <span class="p">-</span> <span class="m">1</span><span class="p">));</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">actual</span> <span class="p">=</span> <span class="n">sut</span><span class="p">.</span><span class="n">IsInRange</span><span class="p">(</span><span class="n">date</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Assert</span><span class="p">.</span><span class="n">True</span><span class="p">(</span><span class="n">actual</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>To make the test repeatable, we must be able to generate a DateRange class successfully every time we ask AutoFixture for one. For this, we add a DateRange <a href="https://github.com/AutoFixture/AutoFixture/wiki/Internal-Architecture">customization and plug it into the Fixture creation pipeline</a>. The customization makes sure that the DateRange class constructor parameters match the constraints.</p>

<figure class='code'><figcaption><span>DateRange AutoFixture Customization</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">InlineCustomizedAutoDataAttribute</span> <span class="p">:</span> <span class="n">AutoDataAttribute</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="nf">InlineCustomizedAutoDataAttribute</span><span class="p">()</span>
</span><span class='line'>        <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="k">new</span> <span class="n">Fixture</span><span class="p">().</span><span class="n">Customize</span><span class="p">(</span><span class="k">new</span> <span class="n">DateRangeCustomization</span><span class="p">()))</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">DateRangeCustomization</span> <span class="p">:</span> <span class="n">ICustomization</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">void</span> <span class="nf">Customize</span><span class="p">(</span><span class="n">IFixture</span> <span class="n">fixture</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">fixture</span><span class="p">.</span><span class="n">Customizations</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">DateRangeSpecimenBuilder</span><span class="p">());</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">DateRangeSpecimenBuilder</span> <span class="p">:</span> <span class="n">ISpecimenBuilder</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">object</span> <span class="nf">Create</span><span class="p">(</span><span class="kt">object</span> <span class="n">request</span><span class="p">,</span> <span class="n">ISpecimenContext</span> <span class="n">context</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="kt">var</span> <span class="n">requestAsType</span> <span class="p">=</span> <span class="n">request</span> <span class="k">as</span> <span class="n">Type</span><span class="p">;</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">DateRange</span><span class="p">).</span><span class="n">Equals</span><span class="p">(</span><span class="n">requestAsType</span><span class="p">))</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="kt">var</span> <span class="n">startTime</span> <span class="p">=</span> <span class="n">context</span><span class="p">.</span><span class="n">Create</span><span class="p">&lt;</span><span class="n">DateTime</span><span class="p">&gt;();</span>
</span><span class='line'>            <span class="kt">var</span> <span class="n">range</span> <span class="p">=</span> <span class="n">context</span><span class="p">.</span><span class="n">Create</span><span class="p">&lt;</span><span class="kt">uint</span><span class="p">&gt;();</span>
</span><span class='line'>            <span class="k">return</span> <span class="k">new</span> <span class="nf">DateRange</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">startTime</span><span class="p">.</span><span class="n">AddDays</span><span class="p">(</span><span class="n">range</span><span class="p">));</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="k">new</span> <span class="nf">NoSpecimen</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The tests can now be updated to use the <em>InlineCustomizedAutoDataAttribute</em> instead of the default <em>InlineAutoDataAttribute</em>. The tests are repeatable now as we can be sure that AutoFixture will always generate a valid DateRange object.</p>

<h3>Public vs. Private for Tests</h3>

<p>It often happens that we get into discussions on whether a function should be private or public. We think it is a bad idea to write production code in a way to suit tests. To test private methods, you can employ techniques of reflection or use <a href="https://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.internalsvisibletoattribute">InternalsVisibleTo attribute</a>. But this is a smell in itself.</p>

<p>Tests should be through public API of the class. If it gets difficult to test through the API, it hints that the code is dealing with different responsibilities or has too many dependencies.</p>

<blockquote><p><em>There are valid use cases for the private and internal access modifiers, but the majority of the time I see private and internal code, it merely smells of poor design. If you change the design, you could make types and members public, and feel good about it.</em></p>

<p>-<a href="http://blog.ploeh.dk/2015/09/22/unit-testing-internals/"><em>Unit Testing Internals, Mark Seemann</em></a></p></blockquote>

<p>Consider refactoring your code so that it is easier to test. Tests are the first consumers of code, and it helps shape the public API and the way it gets consumed. It is fine to have tests affect the way you write code. What is not fine is to have explicit loops within the production code, just for test code. The problem with having such code is that the other code loop never gets tested.</p>

<p>Tests act as a feedback tool and it is important that you listen to it. If you decide to bear the pain of writing tests ignoring the feedback just to meet some <a href="http://www.rahulpnath.com/blog/is-code-coverage-a-lie/">code coverage numbers</a> then you are doing it wrong. Most of the cases you will end up with hard to maintain code and fragile tests. Listen to the feedback and incorporate it into the code you write.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Paint.net - A Layman's Photoshop]]></title>
    <link href="http://rahulpnath.com/blog/paint-dot-net/"/>
    <updated>2017-05-31T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/paint-dot-net</id>
    <content type="html"><![CDATA[<p>For my blog&rsquo;s I often have to edit, resize, modify images often. The default paint application with Windows lacks a lot of features while <a href="http://www.adobe.com/au/products/photoshop.html">Photoshop</a> is too advanced for my needs. <a href="https://www.getpaint.net/index.html">Paint.net</a> is a freely available tool with many advanced features and is lightweight.</p>

<blockquote><p><em>Paint.NET is free image and photo editing software for PCs that run Windows. It features an intuitive and innovative user interface with support for layers, unlimited undo, special effects, and a wide variety of useful and powerful tools</em></p></blockquote>

<p><a href="https://www.getpaint.net/screenshots.html">
<img src= "http://rahulpnath.com/images/pain_net_screen.png" alt="Paint.Net" class="center" />
</a></p>

<p>In addition to the basic features expected off an image editing tool, paint.net supports layers, create special effects with unlimited history/undo. It also includes gradient tool, Magic Wand, Clone Stamp, etc. for advanced editing. Every action performed on the image is recorded in the History window and allows undoing.</p>

<p><a href="https://www.getpaint.net/download.html">Download</a> the latest version of paint.net for free.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Azure Key Vault From Azure Functions - Certificate Based Authentication]]></title>
    <link href="http://rahulpnath.com/blog/azure-key-vault-from-azure-functions-certificate-based-authentication/"/>
    <updated>2017-05-25T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/azure-key-vault-from-azure-functions-certificate-based-authentication</id>
    <content type="html"><![CDATA[<p>In the previous post we saw how to connect to <a href="http://rahulpnath.com/blog/azure-key-vault-from-azure-functions/">Azure Key Vault from Azure Functions</a>. We used the <a href="http://www.rahulpnath.com/blog/authenticating-a-client-application-with-azure-key-vault/">Application Id and Secret to authenticate with the Azure AD Application</a>. Since the general recommendation is to use certificate-based authentication, in this post, we will see how we can use certificates to authenticate from within an Azure Function.</p>

<p>First, we need to create an Azure AD application and set it up to use certificate-based authentication. Create a new service principal for the AD application and associate that with the Azure Key Vault. Authorize the AD application with the permissions required. In this case, I am providing all access to keys and secrets.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="nv">$certificateFilePath</span> <span class="p">=</span> <span class="s2">&quot;C:\certificates\ADTestVaultApplication.cer&quot;</span>
</span><span class='line'><span class="nv">$certificate</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Cryptography</span><span class="p">.</span><span class="n">X509Certificates</span><span class="p">.</span><span class="n">X509Certificate2</span>
</span><span class='line'><span class="nv">$certificate</span><span class="p">.</span><span class="n">Import</span><span class="p">(</span><span class="nv">$certificateFilePath</span><span class="p">)</span>
</span><span class='line'><span class="nv">$rawCertificateData</span> <span class="p">=</span> <span class="nv">$certificate</span><span class="p">.</span><span class="n">GetRawCertData</span><span class="p">()</span>
</span><span class='line'><span class="nv">$credential</span> <span class="p">=</span> <span class="no">[System.Convert]</span><span class="p">::</span><span class="n">ToBase64String</span><span class="p">(</span><span class="nv">$rawCertificateData</span><span class="p">)</span>
</span><span class='line'><span class="nv">$startDate</span><span class="p">=</span> <span class="no">[System.DateTime]</span><span class="p">::</span><span class="n">Now</span>
</span><span class='line'><span class="nv">$endDate</span> <span class="p">=</span> <span class="nv">$startDate</span><span class="p">.</span><span class="n">AddYears</span><span class="p">(</span><span class="n">1</span><span class="p">)</span>
</span><span class='line'><span class="nv">$adApplication</span> <span class="p">=</span> <span class="nb">New-AzureRmADApplication</span> <span class="n">-DisplayName</span> <span class="s2">&quot;CertAdApplication&quot;</span> <span class="n">-HomePage</span>  <span class="s2">&quot;http://www.test.com&quot;</span> <span class="n">-IdentifierUris</span> <span class="s2">&quot;http://www.test.com&quot;</span> <span class="n">-CertValue</span> <span class="nv">$credential</span>  <span class="n">-StartDate</span> <span class="nv">$startDate</span> <span class="n">-EndDate</span> <span class="nv">$endDate</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$servicePrincipal</span> <span class="p">=</span> <span class="nb">New-AzureRmADServicePrincipal</span> <span class="n">-ApplicationId</span> <span class="nv">$adApplication</span><span class="p">.</span><span class="n">ApplicationId</span>
</span><span class='line'>
</span><span class='line'><span class="nb">Set-AzureRmKeyVaultAccessPolicy</span> <span class="n">-VaultName</span> <span class="s1">&#39;RahulKeyVault&#39;</span> <span class="n">-ServicePrincipalName</span> <span class="nv">$servicePrincipal</span><span class="p">.</span><span class="n">ServicePrincipalNames</span><span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="n">-PermissionsToSecrets</span> <span class="n">all</span> <span class="n">-PermissionToKeys</span> <span class="n">all</span>
</span></code></pre></td></tr></table></div></figure>


<p>Create an Azure Function App under your subscription as shown below. You can also use the same application created in the previous post (if you did create one).</p>

<p><img src="http://rahulpnath.com/images/azureFunction_newFunctionApp.png" alt="Azure Function New App" class="center" /></p>

<p>In the Function Apps page, select the app just created. Add a new function like in the last post. Selecting the Function App shows the available set of actions. Under the <em>Platform Features</em> tab we can upload the SSL certificates first and then update the Application Certificates to make the certificate available for the function.</p>

<p><img src="http://rahulpnath.com/images/azureFunction_PlatformFeatures.png" alt="Azure Function Platform Features" class="center" /></p>

<p>Upload the certificate by selecting it from your folder system.</p>

<p><img src="http://rahulpnath.com/images/azureFunction_addCertificate.png" alt="Azure Function Upload Certificate" class="center" /></p>

<p>For the certificate to be available for use in the Azure Functions an entry should be present in Application Settings. Under <em>Application Settings</em> in the <em>Platform Features</em> tab add App settings key and value - <em>WEBSITE_LOAD_CERTIFICATES</em> and the certificate thumbprint This makes the certificate available for consumption within the function. Multiple thumbprints can be specified comma separated if required.</p>

<p><img src="http://rahulpnath.com/images/azureFunction_AppSetting.png" alt="Azure Function Certificates App Settings" class="center" /></p>

<p>Using a certificate to authenticate with the Key Vault is the same as we have <a href="http://www.rahulpnath.com/blog/authenticating-a-client-application-with-azure-key-vault/">seen before</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">Microsoft.Azure.KeyVault</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">Microsoft.IdentityModel.Clients.ActiveDirectory</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Security.Cryptography</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Security.Cryptography.X509Certificates</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">private</span> <span class="k">const</span> <span class="kt">string</span> <span class="n">applicationId</span> <span class="p">=</span> <span class="s">&quot;AD Application ID&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">private</span> <span class="k">const</span> <span class="kt">string</span> <span class="n">certificateThumbprint</span> <span class="p">=</span> <span class="s">&quot;Certificate Thumbprint&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span> <span class="k">async</span> <span class="k">static</span> <span class="n">Task</span> <span class="nf">Run</span><span class="p">(</span><span class="n">TimerInfo</span> <span class="n">myTimer</span><span class="p">,</span> <span class="n">TraceWriter</span> <span class="n">log</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">keyClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">KeyVaultClient</span><span class="p">(</span><span class="k">async</span> <span class="p">(</span><span class="n">authority</span><span class="p">,</span> <span class="n">resource</span><span class="p">,</span> <span class="n">scope</span><span class="p">)</span> <span class="p">=&gt;</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">authenticationContext</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AuthenticationContext</span><span class="p">(</span><span class="n">authority</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
</span><span class='line'>    <span class="n">X509Certificate2</span> <span class="n">certificate</span><span class="p">;</span>
</span><span class='line'>    <span class="n">X509Store</span> <span class="n">store</span> <span class="p">=</span> <span class="k">new</span> <span class="n">X509Store</span><span class="p">(</span><span class="n">StoreName</span><span class="p">.</span><span class="n">My</span><span class="p">,</span> <span class="n">StoreLocation</span><span class="p">.</span><span class="n">CurrentUser</span><span class="p">);</span>
</span><span class='line'>    <span class="k">try</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">store</span><span class="p">.</span><span class="n">Open</span><span class="p">(</span><span class="n">OpenFlags</span><span class="p">.</span><span class="n">ReadOnly</span><span class="p">);</span>
</span><span class='line'>        <span class="n">X509Certificate2Collection</span> <span class="n">certificateCollection</span> <span class="p">=</span> <span class="n">store</span><span class="p">.</span><span class="n">Certificates</span><span class="p">.</span><span class="n">Find</span><span class="p">(</span><span class="n">X509FindType</span><span class="p">.</span><span class="n">FindByThumbprint</span><span class="p">,</span> <span class="n">certificateThumbprint</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">certificateCollection</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">certificateCollection</span><span class="p">.</span><span class="n">Count</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="p">(</span><span class="s">&quot;Certificate not installed in the store&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">certificate</span> <span class="p">=</span> <span class="n">certificateCollection</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">finally</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">store</span><span class="p">.</span><span class="n">Close</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">clientAssertionCertificate</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ClientAssertionCertificate</span><span class="p">(</span><span class="n">applicationId</span><span class="p">,</span> <span class="n">certificate</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">authenticationContext</span><span class="p">.</span><span class="n">AcquireTokenAsync</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">clientAssertionCertificate</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">result</span><span class="p">.</span><span class="n">AccessToken</span><span class="p">;</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">secretIdentifier</span> <span class="p">=</span> <span class="s">&quot;https://rahulkeyvault.vault.azure.net/secrets/mySecretName&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">secret</span> <span class="p">=</span> <span class="k">await</span> <span class="n">keyClient</span><span class="p">.</span><span class="n">GetSecretAsync</span><span class="p">(</span><span class="n">secretIdentifier</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">log</span><span class="p">.</span><span class="n">Info</span><span class="p">(</span><span class="err">$</span><span class="s">&quot;Secret Value: {secret}&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Make sure you add in the <em>project.json</em> as seen in the <a href="http://rahulpnath.com/blog/azure-key-vault-from-azure-functions/">previous post</a> to enable the required NuGet packages. The Azure function now uses the certificate to authenticate with Key Vault and retrieve the secret.</p>

<p>Hope this helps!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Pocket - Don't Miss Out on the Articles That You Want to Read Later]]></title>
    <link href="http://rahulpnath.com/blog/pocket-offline-reading-made-easy/"/>
    <updated>2017-05-24T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/pocket-offline-reading-made-easy</id>
    <content type="html"><![CDATA[<p><img src="http://rahulpnath.com/images/pocket.jpg" alt="Pocket" class="center" /></p>

<p>I try to stay offline for fixed times during the day and often <a href="http://www.rahulpnath.com/blog/staying-productive-offline/">prepare myself up for it</a>. Having things to read is one of the important things to it. <a href="http://www.rahulpnath.com/blog/feedly-one-stop-reading-place/">Feedly</a> allows to keep track of all the reading sources that I have, while I am online. Some articles need more time and focus to be well understood, and I often end up &lsquo;Saving them for Later.&rsquo;</p>

<p><a href="https://getpocket.com">Pocket</a> is an app that helps manage articles that you wish to read later. You can save articles, videos or pretty much anything into Pocket and view them later. The best thing about Pocket is that on mobile devices, it allows offline reading - i.e., without the need for an internet connection.</p>

<p>Pocket has <a href="https://getpocket.com/add/?ep=1">apps and browser extensions</a> for a variety of platforms making it easy to save articles that you find interesting. You can save to pocket while on your laptop or your mobile devices and have it available for later reading. Feedly integrates with Pocket and allows to save articles for future reading straight to Pocket. I am using the free version of Pocketand it works perfectly for me. But if you are interested in more advanced features you can upgrade to the <a href="https://getpocket.com/premium?ep=1">Premium version</a>.</p>

<p>Don&rsquo;t miss out on that article that you want to read (later), <a href="https://getpocket.com">Get Pocket</a>!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Start New Habits That Stick]]></title>
    <link href="http://rahulpnath.com/blog/start_new_habits_that_stick/"/>
    <updated>2017-05-16T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/start_new_habits_that_stick</id>
    <content type="html"><![CDATA[<blockquote><p><em>The beginning of a good habit is the elimination of an excuse.</em>   <br/>
<em>And The beginning of a bad habit is the finding of an excuse</em></p></blockquote>

<p>The ability to pick on something and to make a habit of it is something that is always helpful. This skill helps to create new habits and also let go off old ones that are not doing any good to you. Part of letting of bad old habits might be creating new ones. When I wrote about <a href="http://www.rahulpnath.com/blog/three_months_to_a_half_marathon/">Couch to Half Marathon</a>, some of my readers asked how to keep up with the plan. How to do &lsquo;Couch to Street&rsquo;; just getting out there.</p>

<p><a href= "https://quotefancy.com/quote/20375/Jim-Rohn-Motivation-is-what-gets-you-started-Habit-is-what-keeps-you-going">
    <img alt="Motivation is what gets you started. Habit is what keeps you going" src="http://rahulpnath.com/images/habit.jpg" class="center" />
</a></p>

<h3>How Habits Work</h3>

<p>To form new habits, it is important that we understand <a href="http://charlesduhigg.com/how-habits-work/">how habits work</a>.</p>

<blockquote><p><em>a simple neurological loop at the core of every habit, a loop that consists of three parts: <strong>A cue, a routine and a reward.</strong></em></p></blockquote>

<p>As Charles Duhigg points out in his book, Power Of Habits (<a href="http://amzn.to/2gOYluc">recommended read</a>) the formula for changing habits differs from habit and persons. So it is more about using a framework to understand how habits work and experimenting on changing it. Changing a habit does take time and is not an easy one, but with a process in place, it is doable with time and effort.</p>

<p><img src="http://rahulpnath.com/images/habit_loop.jpg" class="center" alt="Cue-Routine-Reward Habit Loop" /></p>

<p>To break a bad habit one needs to identify it first. It could be anything from spending too much time on social media, eating unhealthy food, smoking, drinking, etc. Identifying that you have a habit and it&rsquo;s not good for you to continue with it is important. You can only change something once you identify it.</p>

<p>Once you recognize the habit, find out what is the trigger for the habit. Is it a particular place, people, time, etc. It might be hard to find the specific cue that triggers the habit, so note down everything that you find applicable. Then work on to isolate the cue by monitoring the habit over a couple of days. Wire up the cue that triggers the habit to perform some other action. Create that plan in advance and have some way to remind yourself of it. If your cue is time-based or location based, then you can use your smartphone to pop-up a reminder. If not try to find ways to keep yourself reminded to perform the new plan. It feels hard in the beginning but stick to the plan, and in time you will be able to change your habit. I recommend you to read the book <a href="http://amzn.to/2gOYluc">Power of Habits</a> to understand this subject better.</p>

<h3>Mini Habits and Short Term Goals</h3>

<p>To start creating new habits, I have found setting smaller goals to target daily works better. I began writing at least one line every day to be <a href="http://www.rahulpnath.com/blog/maintaining-a-blogging-schedule/">consistent in blogging</a>, running at least once a week to establish an exercise routine, eat at least one meal healthy, etc. Time-based cues help to enforce such new behavior. Setting aside a specific time as per the desired frequency to perform the activity makes sure that you do not skip doing it. Also, remember to keep the action as simple as possible so that you do not procrastinate when the time comes.</p>

<p>Like if it is running that you are planning to start it could be -  <em>Every Saturday at 6 am I will wear my running shoes and get out of my house</em>. When the time comes, this is such a simple task that you have set for yourself, and you are more likely to do it. Once you have taken the pain of putting the shoes and getting out of the couch, you are more likely to run for at least five minutes.</p>

<p>Break your goals into small and achievable mini goals. These mini goals are often referred to as <a href="http://www.rahulpnath.com/blog/morning_routine/">Most Important Tasks (MIT)</a>, <a href="http://www.rahulpnath.com/blog/experimenting-with-pomodoro-technique/">Big Rocks</a> etc. The key is to break them down into smaller achievable mini-goals and setting a cue to trigger the activity.</p>

<h3>Motivation and Its Role</h3>

<p>Very often we get motivated to start new activities and begin with great enthusiasm. In the beginning, we feel a spike in energy and see things happening. But soon you hit a point where you feel nothing is moving and you feel it a burden to continue. This stage is referred to as <em>plateau - a state of little or no change following a period of activity or progress.</em> You soon see your motivation levels dropping and justifying to yourself how little or no benefit your actions have. Eventually, you find yourself losing entire interest in the activity and start looking for new motivation spikes. This has happened to me many times.</p>

<blockquote><p><em>Motivation is what gets you started.Habit is what keeps you going.</em></p></blockquote>

<p>I have found this to be entirely true. We need the motivation to help us to get started with new activities and set new goals. But motivation alone cannot help us go all the way and achieve what we want. Before jump-starting with the idea give it a good thought to check if it is worth your time spent. If not park the idea to your <a href="http://gettingthingsdone.com/2010/10/what-goes-on-a-someday-maybe-list/">Someday Maybe list</a> (as referred to in <a href="http://amzn.to/2gsJaed">GTD</a>).</p>

<p>Once you have decided to pursue the idea, break it into smaller pieces and set achievable &lsquo;mini goals.&rsquo; Set dedicated time at regular intervals for achieving these mini-goals. Most important is in having some &lsquo;me time&rsquo; to get towards these goals. Like for me I have found that <a href="http://www.rahulpnath.com/blog/waking-up-early-is-all-about-waking-up-to-an-alarm/">mornings work best for me</a> and created a <a href="http://www.rahulpnath.com/blog/morning_routine/">Morning Routine</a>. To make sure that I make the best of my time I try to work in <a href="http://www.rahulpnath.com/blog/experimenting-with-pomodoro-technique/">Pomodoro&rsquo;s and inspect and adapt the process</a> often.</p>

<h3>Tracking and Feedback</h3>

<p>Tracking is an important part of habit formation. Once you have set your goals and mini habits also find ways to track your progress. <a href="http://www.rahulpnath.com/blog/psm-learnings/">Inspect and Adapt</a> is the fundamental principle behind Agile Processes. Habit formation is nothing but being agile, keeping the end goal in mind, adjusting the way you reach there. Find ways and tools to track progress on the habits that you are trying to form.</p>

<p>I prefer automatic tracking with least manual entry, so the tracking happens in the background. But at times you will have to resort to manual methods as well. Make sure you have a time set aside daily to capture the information. Having a review of the data obtained once every week or two and taking adjustment actions is equally important. Some of the tracking tools that I use are <a href="http://www.rahulpnath.com/blog/rescue-time-track-your-time/">Rescue Time</a>, <a href="http://www.rahulpnath.com/blog/three_months_to_a_half_marathon/">Garmin Forerunner 630</a> and a few manual ones. I [review my progress every week] and try to incorporate feedback into the upcoming week.</p>

<blockquote><p><em>All it takes to start a new habit is a moment - The moment where you decide on the new habit. The rest is process!</em></p></blockquote>

<p><a href="http://www.rahulpnath.com/blog/how-i-lost-13-kilos-in-one-and-half-months/">Eating Healthy, Exercise</a>, <a href="http://www.rahulpnath.com/blog/maintaining-a-blogging-schedule/">Blogging</a>, <a href="http://www.rahulpnath.com/blog/waking-up-early-is-all-about-waking-up-to-an-alarm/">Waking up Early</a>, <a href="http://www.rahulpnath.com/blog/experimenting-with-pomodoro-technique/">Reducing time spent on Social Media, Reading</a> and <strike><a href="http://www.rahulpnath.com/blog/recording-my-first-screencast/">Creating Videos</a></strike> (looking to give this up) are some of the habits that I have formed following these techniques. The ability to decide on something and getting it to done is the most important of all. Once you have mastered the skill of forming new habits, it boils down to choosing good habits and wiring that into your life. I have heard about the <a href="https://www.forbes.com/sites/jasonselk/2013/04/15/habit-formation-the-21-day-myth/">21-Day rule of habit formation</a> and similar myths. But I think all it takes to start a new habit is a moment - The moment where you decide on the new habit. The rest is process!</p>

<p><strong>References:</strong></p>

<div>
   <div class="row">
      <div class="col-sm-6 col-md-3">
         <div class="thumbnail">
            <a href="http://amzn.to/2gOYluc" >
            <img alt="Power Of Habit" src="http://rahulpnath.com/images/books_powerofhabit.jpg" data-holder-rendered="true" style="display: block;">
            </a>
         </div>
      </div>
      <div class="col-sm-6 col-md-3">
         <div class="thumbnail">
            <a href="http://amzn.to/2hmeokB">
            <img alt="Superhuman by Habit" src="http://rahulpnath.com/images/books_superhumanbyhabit.jpg" data-holder-rendered="true" style="display: block;" >
            </a>
         </div>
      </div>
   </div>
</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Feedly - One Stop Reading Place]]></title>
    <link href="http://rahulpnath.com/blog/feedly-one-stop-reading-place/"/>
    <updated>2017-05-16T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/feedly-one-stop-reading-place</id>
    <content type="html"><![CDATA[<p>Do you want a one stop reading place to stay current and updated with posts from various blogs of your interest?</p>

<blockquote><p><em>Feedly is a news aggregator application that compiles news feeds from a variety of online sources</em></p></blockquote>

<p> <a href="https://feedly.com/">Feedly</a> is what you are looking for. You can subscribe to the sites and news sources that you want to follow and Feedly shows that as a combined list for you.</p>

<p>News sources can be grouped into custom collections to group similar categories of information. Feedly offers a clean and minimalist reading experience, removing all the ads and other elements that create clutter. You can save articles to be read later, mark as favorite, share articles and a lot more.</p>

<p><img src="http://rahulpnath.com/images/feedly_site.png" class="center" alt="Feedly" /></p>

<p>Feedly has <a href="https://feedly.com/apps.html">apps and browser plugins</a> for a broad range of platforms and provides a uniform experience across devices. Currently, I am on the free version of the application, and it has a limit of 100 feeds. The <a href="https://feedly.com/i/pro/">pro version</a> provides a lot more features if you are interested.</p>

<p>Get a one stop reading place, Get <a href="https://feedly.com/">Feedly</a>!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip of the Week: Password Manager - Get One If you Haven't Already]]></title>
    <link href="http://rahulpnath.com/blog/password-manager-get-one-if-you-havent-already/"/>
    <updated>2017-05-11T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/password-manager-get-one-if-you-havent-already</id>
    <content type="html"><![CDATA[<p><img src="http://rahulpnath.com/images/password_manager.jpg" alt ="https://pixabay.com/en/data-security-keyboard-computer-1590455/" class="center" /></p>

<p>First things first; <strong>Check if any of your accounts on the web has been compromised in the various data breaches</strong>. All you need is enter your email address in <a href="https://haveibeenpwned.com/">haveibeenpwned</a>, and it tells you the rest.</p>

<p>My email did show up on multiple breaches, and there is nothing much that you can do about it anyways. The problem with data breaches is not confined just to the site that got breached but also with other sites if you have reused your passwords. The best that we can do is to use different passwords for each account that we create and never reuse them across sites. Also, remember to use &lsquo;stronger&rsquo; passwords. So what makes a password stronger? - <a href="https://www.troyhunt.com/only-secure-password-is-one-you-cant/">The one that you cannot remember</a>.</p>

<blockquote><p><em>A <a href="https://en.wikipedia.org/wiki/Password_manager">Password manager</a> assists in generating, storing, and retrieving complex passwords from an encrypted database</em></p></blockquote>

<p>Password Managers allows keeping all your passwords in a single strongly encrypted location. This manager itself is protected by a password - the master password!. The master password is the only password that you need to remember, so make sure you <a href="https://support.1password.com/strong-master-password/">get this really strong</a>!</p>

<p>There are different <a href="http://au.pcmag.com/password-managers-products/4524/guide/the-best-password-managers-of-2017">password managers</a> out there, both paid and free. Personally, I use <a href="https://1password.com/">1Password</a> and love the experience that it has across all my devices. Initially, I was worried to have my passwords (password since I was mostly reusing the same one) on a cloud store with an external service. But with all these data breaches that I was part of and having realized that not having one is worse than having it in the cloud. <em><a href="https://www.troyhunt.com/password-managers-dont-have-to-be-perfect-they-just-have-to-be-better-than-not-having-one/">Password managers don&rsquo;t have to be perfect, they just have to be better than not having one</a></em>. Having a password manager does not prevent your from being part of data breaches, but at least it protects your accounts elsewhere as you have not reused the password.</p>

<p>So if you still remember your passwords or reuse them, go set yourself up with a password manager!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Todoist Template Transformer - Transform Tasks to 'X' Days From Now]]></title>
    <link href="http://rahulpnath.com/blog/todoist-template-transformer-transform-tasks-to-x-days-from-now/"/>
    <updated>2017-05-09T00:00:00+00:00</updated>
    <id>http://rahulpnath.com/blog/todoist-template-transformer-transform-tasks-to-x-days-from-now</id>
    <content type="html"><![CDATA[<p><img src="http://rahulpnath.com/images/todoist_templates.png" alt="Todoist Templates" class="center" /></p>

<p><a href="https://blog.todoist.com/2015/11/19/new-way-to-create-todoist-templates/">Todoist Templates</a> is a simple way to create tasks for any of your recurring activities. Be it blogging, cooking, or any of your activities. With Todoist Templates, you can turn any project into a checklist that you can easily duplicate later. I have been using <a href="http://www.rahulpnath.com/blog/todoist-manage-your-todo-list/">Todoist</a> for a long time and find it useful to keep track of tasks (both personal and at work)</p>

<h4><strong>Problem</strong></h4>

<p>I <a href="http://www.rahulpnath.com/blog/experimenting-with-pomodoro-technique/">plan my tasks</a> for the upcoming week on Sunday morning. I pull in tasks for the upcoming week, and some of these tasks are template based. For e.g. for writing a blog post, I have the below template</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>TYPE,CONTENT,PRIORITY,INDENT,AUTHOR,RESPONSIBLE,DATE,DATE_LANG,TIMEZONE
</span><span class='line'>task,Blog: BlogTopic,4,1,Rahul (3565260),,,en,Australia/Melbourne
</span><span class='line'>task,BlogTopic: Draft Body,4,2,Rahul (3565260),,today,en,Australia/Melbourne
</span><span class='line'>task,BlogTopic: Refine Body,4,2,Rahul (3565260),,today,en,Australia/Melbourne
</span><span class='line'>task,BlogTopic: Intro and Conclusion,4,2,Rahul (3565260),,tomorrow,en,Australia/Melbourne
</span><span class='line'>task,&quot;BlogTopic: Images, Proof Read and Publish&quot;,4,2,Rahul (3565260),,tomorrow,en,Australia/Melbourne
</span></code></pre></td></tr></table></div></figure>


<p>The dates on the template are relative to the day that you import the template in Todoist. So if I pull in the template on a Sunday, the tasks will start on Sunday. This is not something that I want; I want them to start on a Monday. Alternatively, I can update the template to start from tomorrow. Even in that case, I will always have to know the exact start day relative to the day that I intend to pull in. I usually plan for the tasks on a Sunday but still, like the flexibility to pull in tasks any day of the week.</p>

<h3>Todoist Template Transformer</h3>

<p>The Todoist Template Transformer takes in a date and template path and adjusts all tasks in the template to start relative to the passed in date. In the above example, if I want to blog on Wednesday, I will input the Wednesday date and the template file path. The first two tasks will start on Wednesday and the third and fourth on Thursday. Running the transformer on a Sunday (07-May-2017) with the next Wednesday (10-May-2017) below is the new template</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bat'><span class='line'>TodoistTemplateTransformer.exe -startDate <span class="s2">&quot;10-May-2017&quot;</span> -templateFile <span class="s2">&quot;Blog Template.csv&quot;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>TYPE,CONTENT,PRIORITY,INDENT,AUTHOR,RESPONSIBLE,DATE,DATE_LANG,TIMEZONE
</span><span class='line'>task,Blog: BlogTopic,4,1,Rahul (3565260),,,en,Australia/Melbourne
</span><span class='line'>task,BlogTopic: Draft Body,4,2,Rahul (3565260),,in 3 days,en,Australia/Melbourne
</span><span class='line'>task,BlogTopic: Refine Body,4,2,Rahul (3565260),,in 3 days,en,Australia/Melbourne
</span><span class='line'>task,BlogTopic: Intro and Conclusion,4,2,Rahul (3565260),,in 4 days,en,Australia/Melbourne
</span><span class='line'>task,&quot;BlogTopic: Images, Proof Read and Publish&quot;,4,2,Rahul (3565260),,in 4 days,en,Australia/Melbourne
</span></code></pre></td></tr></table></div></figure>


<p>This utility is written in FSharp the <a href="https://github.com/rahulpnath/todoisttemplatetransformer">source code is available here</a> if you are interested. I am still in the initial stages of learning FSharp, so if you have any suggestions to improve the code, please raise a Pull Request or drop in a comment.</p>
]]></content>
  </entry>
  
</feed>
